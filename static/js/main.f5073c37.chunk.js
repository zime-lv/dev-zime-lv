(this["webpackJsonpdev-zime-lv"]=this["webpackJsonpdev-zime-lv"]||[]).push([[2],{185:function(e){e.exports=JSON.parse('[{"Name":"Alpha Time","Offset":1},{"Name":"Australian Central Time","Offset":9},{"Name":"Australian Eastern Time","Offset":10},{"Name":"Afghanistan Time","Offset":4},{"Name":"Alaska Time","Offset":-9},{"Name":"Alma-Ata Time","Offset":6},{"Name":"Armenia Time","Offset":4},{"Name":"Amazon Time","Offset":-4},{"Name":"Anadyr Time","Offset":12},{"Name":"Aqtobe Time","Offset":5},{"Name":"Argentina Time","Offset":-3},{"Name":"Arabia Time","Offset":3},{"Name":"Atlantic Time","Offset":-4},{"Name":"Australian Western Time","Offset":8},{"Name":"Azores Time","Offset":-1},{"Name":"Azerbaijan Time","Offset":4},{"Name":"Bravo Time","Offset":2},{"Name":"Brunei Darussalam Time","Offset":8},{"Name":"Bolivia Time","Offset":-4},{"Name":"Bras\xedlia time","Offset":-3},{"Name":"Bangladesh Time","Offset":6},{"Name":"Bhutan Time","Offset":6},{"Name":"Charlie Time","Offset":3},{"Name":"Casey Time","Offset":8},{"Name":"Central Africa Time","Offset":2},{"Name":"Cocos Islands Time","Offset":6},{"Name":"Central European Time","Offset":1},{"Name":"Chatham Island Time","Offset":13},{"Name":"Cook Island Time","Offset":-10},{"Name":"Chile Time","Offset":-4},{"Name":"Colombia Time","Offset":-5},{"Name":"China Time","Offset":8},{"Name":"Central Time","Offset":-6},{"Name":"Cuba Time","Offset":-5},{"Name":"Cape Verde Time","Offset":-1},{"Name":"Christmas Island Time","Offset":7},{"Name":"Chamorro Time","Offset":10},{"Name":"Delta Time","Offset":4},{"Name":"Davis Time","Offset":7},{"Name":"Echo Time","Offset":5},{"Name":"Easter Island Time","Offset":-6},{"Name":"Eastern Africa Time","Offset":3},{"Name":"Ecuador Time","Offset":-5},{"Name":"Eastern European Time","Offset":2},{"Name":"East Greenland Time","Offset":-1},{"Name":"Eastern Time","Offset":-5},{"Name":"Foxtrot Time","Offset":6},{"Name":"Fiji Time","Offset":12},{"Name":"Falkland Island Time","Offset":-4},{"Name":"Fernando de Noronha Time","Offset":-2},{"Name":"Golf Time","Offset":7},{"Name":"Galapagos Time","Offset":-6},{"Name":"Gambier Time","Offset":-9},{"Name":"Georgia Time","Offset":4},{"Name":"French Guiana Time","Offset":-3},{"Name":"Gilbert Island Time","Offset":12},{"Name":"Greenwich Mean Time","Offset":0},{"Name":"Gulf Time","Offset":4},{"Name":"Guyana Time","Offset":-4},{"Name":"Hotel Time","Offset":8},{"Name":"Hawaii-Aleutian Time","Offset":-10},{"Name":"Hong Kong Time","Offset":8},{"Name":"Hora Legal de Venezuela","Offset":4},{"Name":"Hovd Time","Offset":7},{"Name":"India Time","Offset":9},{"Name":"Indochina Time","Offset":7},{"Name":"Indian Chagos Time","Offset":6},{"Name":"Irkutsk Time","Offset":9},{"Name":"Iran Time","Offset":3},{"Name":"Israel Time","Offset":2},{"Name":"India Time","Offset":5},{"Name":"Irish Time","Offset":1},{"Name":"Japan Time","Offset":9},{"Name":"Kilo Time","Offset":10},{"Name":"Kyrgyzstan Time","Offset":6},{"Name":"Krasnoyarsk Time","Offset":8},{"Name":"Korea Time","Offset":9},{"Name":"Kuybyshev Time","Offset":4},{"Name":"Lima Time","Offset":11},{"Name":"Lord Howe Time","Offset":10},{"Name":"Line Islands Time","Offset":14},{"Name":"Mike Time","Offset":12},{"Name":"Magadan Time","Offset":12},{"Name":"Marquesas Time","Offset":-9},{"Name":"Mawson Time","Offset":5},{"Name":"Marshall Islands Time","Offset":12},{"Name":"Myanmar Time","Offset":6},{"Name":"Moscow Time","Offset":4},{"Name":"Mountain Time","Offset":-7},{"Name":"Mauritius Time","Offset":4},{"Name":"Maldives Time","Offset":5},{"Name":"Malaysia Time","Offset":8},{"Name":"November Time","Offset":-1},{"Name":"New Caledonia Time","Offset":11},{"Name":"Norfolk Time","Offset":11},{"Name":"Novosibirsk Time","Offset":6},{"Name":"Nepal Time","Offset":6},{"Name":"Newfoundland Time","Offset":-3},{"Name":"Niue Time","Offset":-11},{"Name":"New Zealand Time","Offset":12},{"Name":"Oscar Time","Offset":-2},{"Name":"Omsk Time","Offset":7},{"Name":"Papa Time","Offset":-3},{"Name":"Peru Time","Offset":-5},{"Name":"Kamchatka Time","Offset":12},{"Name":"Papua New Guinea Time","Offset":10},{"Name":"Phoenix Island Time","Offset":13},{"Name":"Philippine Time","Offset":8},{"Name":"Pakistan Time","Offset":5},{"Name":"Pierre & Miquelon Time","Offset":-3},{"Name":"Pohnpei Time","Offset":11},{"Name":"Pacific Time","Offset":-8},{"Name":"Pitcairn Time","Offset":-8},{"Name":"Palau Time","Offset":9},{"Name":"Paraguay Time","Offset":-4},{"Name":"Quebec Time","Offset":-4},{"Name":"Romeo Time","Offset":-5},{"Name":"Reunion Time","Offset":4},{"Name":"Sierra Time","Offset":-6},{"Name":"Samara Time","Offset":4},{"Name":"South Africa Time","Offset":2},{"Name":"Solomon IslandsTime","Offset":11},{"Name":"Seychelles Time","Offset":4},{"Name":"Singapore Time","Offset":8},{"Name":"Suriname Time","Offset":-3},{"Name":"Samoa Time","Offset":-11},{"Name":"Tango Time","Offset":-7},{"Name":"Tahiti Time","Offset":-10},{"Name":"French Southern and Antarctic Time","Offset":5},{"Name":"Tajikistan Time","Offset":5},{"Name":"Tokelau Time","Offset":13},{"Name":"East Timor Time","Offset":9},{"Name":"Turkmenistan Time","Offset":5},{"Name":"Tuvalu Time","Offset":12},{"Name":"Uniform Time","Offset":-8},{"Name":"Ulaanbaatar Time","Offset":8},{"Name":"Coordinated Universal Time","Offset":0},{"Name":"Uruguay Time","Offset":-3},{"Name":"Uzbekistan Time","Offset":5},{"Name":"Victor Time","Offset":-9},{"Name":"Venezuelan Time","Offset":-4},{"Name":"Vladivostok Time","Offset":11},{"Name":"Vanuatu Time","Offset":11},{"Name":"Whiskey Time","Offset":-10},{"Name":"West Africa Time","Offset":1},{"Name":"Western European Time","Offset":0},{"Name":"Wallis and Futuna Time","Offset":12},{"Name":"West Greenland Time","Offset":-3},{"Name":"Western Indonesian Time","Offset":7},{"Name":"Eastern Indonesian Time","Offset":9},{"Name":"Central Indonesian Time","Offset":8},{"Name":"West Samoa Time","Offset":13},{"Name":"Western Sahara Time","Offset":0},{"Name":"X-ray Time","Offset":-11},{"Name":"Yankee Time","Offset":-12},{"Name":"Yakutsk Time","Offset":10},{"Name":"Chuuk Time","Offset":10},{"Name":" Yekaterinburg Time","Offset":6},{"Name":"Zulu Time","Offset":0}]')},198:function(e,a,t){e.exports=t(263)},203:function(e,a,t){},204:function(e,a,t){},205:function(e,a,t){},209:function(e,a,t){},220:function(e,a,t){var n={"./document.css":[264,7,5],"./en/PrivacyPolicy":[195,9,0],"./en/PrivacyPolicy.js":[195,9,0],"./en/UserAgreement":[196,9,1],"./en/UserAgreement.js":[196,9,1]};function r(e){if(!t.o(n,e))return Promise.resolve().then((function(){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=n[e],r=a[0];return t.e(a[2]).then((function(){return t.t(r,a[1])}))}r.keys=function(){return Object.keys(n)},r.id=220,e.exports=r},228:function(e,a,t){},259:function(e,a){},262:function(e,a,t){},263:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(32),l=t.n(s),i=(t(203),t(204),t(5)),o=(t(137),t(205),t(60)),c=t(127),u=t(311),m=t(105),d=t.n(m),f=t(150),p=t(40),E=t(171),g=t(172);f.a.use(E.a).use(g.a).use(p.f).init({fallbackLng:"lv",debug:!1,ns:["LogIn","SignUp"],defaultNS:"Default",keySeparator:!1,interpolation:{escapeValue:!1},react:{wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}});var b,v=f.a,h=t(72),O=t(93),y=t.n(O),N=t(280),T=t(301),C=t(293),S=t(186),k=t(306),I=t(136),P=t(302),j=t(283),w=t(304),F=t(284),A=t(286),D=t(285),_=(t(206),t(209),t(91)),q=function(e){var a={title:"Untitled",navigation:void 0,footer:void 0,header:!0,body:!0,headerContent:null,onNavigationClick:function(){}},t=Object.assign(a,e),s=0,l=t.footer?r.a.createElement(_.a.Footer,null,t.footer):"";return r.a.createElement(_.a,null,t.header&&r.a.createElement(_.a.Header,{className:"custom-card"},null!==t.headerContent?t.headerContent:r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a.Title,null,t.title),r.a.createElement(I.a,{variant:"tabs",defaultActiveKey:t.navigationdefaultActiveKey},t.navigation&&t.navigation.map((function(e,a){return r.a.createElement(I.a.Item,{key:a},r.a.createElement(I.a.Link,{className:"custom-card",href:e.link,onClick:function(){return t.onNavigationClick(e.link)},style:{color:"black"}},e.name))}))))),t.body&&r.a.createElement(_.a.Body,{className:"custom-card"},r.a.Children.map(e.children,(function(e){return"object"!==typeof e?e:(s++,Object(n.cloneElement)(e,{styles:null,key:s}))}))),l)},R=t(11),x=t(7),L=t(191),B=t(305),G={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},U={borderColor:"#2196f3"},K={borderColor:"#00e676"},V={borderColor:"#ff1744"},z=function(e){var a=Object.assign({},e.data),t=a.barrelGetters.accountPhotoPath,s=a.barrelFunctions.sendRequest,l=Object(n.useState)(null),o=Object(i.a)(l,2)[1],c=Object(N.a)("AccountRegistration").t;""!==t&&(G.padding=0,G.borderStyle="none",G.backgroundColor="none");var u=Object(n.useCallback)((function(e){o(e),s({req:"upload file",data:{acceptedFiles:e}})}),[]),m=Object(L.a)({accept:"image/*",onDrop:u}),d=m.getRootProps,f=m.getInputProps,p=m.isDragActive,E=m.isDragAccept,g=m.isDragReject,b=Object(n.useMemo)((function(){return Object(h.a)({},G,{},p?U:{},{},E?K:{},{},g?V:{})}),[p,E,g]);return""===t?r.a.createElement("div",{className:"container"},r.a.createElement("div",d({style:b}),r.a.createElement("input",f()),r.a.createElement("p",null,c("Click to select the image file")))):(t="gfx/photo_id.png",r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",d({style:b}),r.a.createElement("input",f()),r.a.createElement(B.a.Image,{width:171,height:180,alt:"171x180",src:t})))))},H=t(281),W=t(282),M=function(e){var a=Object.assign({caption:"Submit",request:null,namespace:"Button",visible:!0,marginTop:0,timeout:7e3,onSubmit:function(){}},e),t=a.barrelGetters.request,s=a.barrelSetters.setRequest,l=a.barrelFunctions.showMessage,o=Object(n.useState)(!1),c=Object(i.a)(o,2),u=c[0],m=c[1];!function(e,a){var t=Object(n.useRef)();Object(n.useEffect)((function(){t.current=e}),[e]),Object(n.useEffect)((function(){if(null!==a){var e=setTimeout((function(){a>0&&t.current()}),a);return function(){return clearTimeout(e)}}}),[a])}((function(){t===a.request&&(m(!0),s(null),l("REQUEST_EXPIRED","error"))}),a.timeout);return r.a.createElement(r.a.Fragment,null,a.visible?r.a.createElement(H.a,{type:"submit",onClick:a.onSubmit,block:!0,disabled:t===a.request&&!u,style:{marginTop:a.marginTop+"px"}},r.a.createElement(W.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:t!==a.request||u}),"\xa0",a.caption,"\xa0"):r.a.createElement(r.a.Fragment,null))},J=t(303),X=t(182),Y=t(183),Z=t(192),$=t(194),Q=function(e){Object($.a)(t,e);var a=Object(Z.a)(t);function t(e){var n;return Object(X.a)(this,t),(n=a.call(this,e)).state={hasError:!1},n}return Object(Y.a)(t,[{key:"componentDidCatch",value:function(e,a){console.log("Error boundary:",e,a)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(r.a.Fragment,null):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),ee=function(e){var a=Object.assign({namespace:"ModalMessage",centered:!0,message:"",title:null,footer:null,onHide:function(){},size:"sm",file:null,backdrop:!0},e),n=Object(N.a)([a.namespace]).t,s=null!==a.file?r.a.lazy((function(){return t(220)("./".concat(a.file))})):"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,Object.assign({},a,{size:a.size,"aria-labelledby":"contained-modal-title-vcenter",centered:a.centered,backdrop:a.backdrop}),null!==a.title&&r.a.createElement(J.a.Header,{closeButton:!0},r.a.createElement(k.a,{style:{borderRadius:"5px",background:"transparent !important",backgroundColor:"",boxShadow:"none"}},r.a.createElement(k.a.Brand,{href:"/"},r.a.createElement("img",{src:"gfx/zlogo_light.png",width:"auto",height:"30",className:"d-inline-block align-top",alt:n("Logo")})),r.a.createElement(I.a,{className:"mr-auto"},r.a.createElement(J.a.Title,{id:"contained-modal-title-vcenter"},a.title)))),r.a.createElement(J.a.Body,{style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"}},""!==a.message?a.message:r.a.createElement(Q,null,r.a.createElement(s,null))),null!==a.footer&&r.a.createElement(J.a.Footer,null,r.a.createElement(H.a,{block:!0,onClick:a.onHide},n("Close")))))},ae=function(e,a){var t=Object(n.useState)((function(){var t=window.localStorage.getItem(a);return null!==t?JSON.parse(t):e})),r=Object(i.a)(t,2),s=r[0],l=r[1];return Object(n.useEffect)((function(){window.localStorage.setItem(a,JSON.stringify(s))}),[a,s]),[s,l]},te=t(185),ne=function(e){var a=Object.assign({request:"get user sequence",namespace:"AccountRegistration"},e),t=a.barrelGetters,s=t.signedIn,l=t.accountNumber,o=t.accountPhotoPath,c=t.userData,u=(t.language,t.debug),m=a.barrelFunctions,d=m.getReviser,f=m.getWorkplace,p=m.sendRequest,E=m.formatDate,g=ae(!1,"userAgreementShow"),b=Object(i.a)(g,2),v=b[0],h=b[1],O=ae(!1,"privacyPolicyShow"),T=Object(i.a)(O,2),C=T[0],S=T[1],k=ae(null,"offsetList"),I=Object(i.a)(k,2),P=(I[0],I[1],Object(n.useState)(!1)),_=Object(i.a)(P,2),L=(_[0],_[1],Object(n.useState)(Date.now())),B=Object(i.a)(L,2),G=(B[0],B[1],Object(N.a)(a.namespace).t),U=x.c({dropzoneHook:x.d().required(G("Photo ID is required")),terms:x.a().required(G("Terms is required")),timezone:x.d().required(G("Timezone at birth is required")),birthDate:x.d().required(G("Date of birth is required")).test({name:"regex",exclusive:!0,params:{},message:G("Date must be valid"),test:function(e){if("undefined"===typeof e)return!1;if(!RegExp(G("Date Regex")).test(e))return!1;var a=E(e,{month:"numeric",day:"numeric",year:"numeric"},!1,"en-US");return y.a.isDate(new Date(a))}})}),K=te.sort((function(e,a){return(e.Offset+12)%24>(a.Offset+12)%24||(e.Offset+12)%24===(a.Offset+12)%24&&e.Name>a.Name?1:-1}));return!1===s?r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{variant:"info"},r.a.createElement(A.a.Heading,null,G("User not logged in")),r.a.createElement("p",null,r.a.createElement(j.a,{i18nKey:"AccountRegistration:Please log in first"},"Please log in first.")))):u||null===l?r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{show:v,file:"en/UserAgreement",size:"lg",centered:!1,title:G("User Agreement"),footer:"",onHide:function(){return h(!1)}}),r.a.createElement(ee,{show:C,file:"en/PrivacyPolicy",size:"lg",centered:!1,title:G("Privacy Policy"),footer:"",onHide:function(){return S(!1)}}),r.a.createElement(q,{title:G("Open account")},r.a.createElement(R.a,{component:function(t){var n=t.handleSubmit,s=t.handleChange,l=(t.handleBlur,t.values),i=t.touched,c=(t.isValid,t.validateForm,t.setFieldValue,t.errors);return r.a.createElement(w.a,{noValidate:!0,onSubmit:n},r.a.createElement(w.a.Group,{controlId:"validationFormikPhotoId"},r.a.createElement(w.a.Label,null,G("Photo ID")),r.a.createElement(w.a.Text,null,r.a.createElement(j.a,{i18nKey:"AccountRegistration:Photo ID requirements"},"Photo of me holding my passport. The personal identification number must be clearly legible.")),r.a.createElement("br",null),r.a.createElement(z,{data:a})),r.a.createElement(w.a.Group,{controlId:"validationFormikDropzoneHook"},r.a.createElement(w.a.Control,{type:"text",name:"dropzoneHook",value:o,onChange:s,isInvalid:!!c.dropzoneHook,style:{display:"none"}}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.dropzoneHook)),!1,r.a.createElement(w.a.Group,{controlId:"validationFormikBirthDate"},r.a.createElement(w.a.Label,null,G("Date of birth")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:G("yyyy-mm-dd"),"aria-describedby":"inputGroupPrepend",name:"birthDate",value:l.birthDate,onChange:s,isInvalid:!!c.birthDate&&i.birthDate}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.birthDate))),r.a.createElement(w.a.Group,{controlId:"validationFormikTimezone"},r.a.createElement(w.a.Label,null,G("Timezone at birth")),r.a.createElement(w.a.Control,{as:"select",custom:!0,name:"timezone",value:l.timezone,onChange:s,isInvalid:!!c.timezone&&i.timezone},r.a.createElement("option",{value:""},G("Choose...")),K.map((function(e,a){return r.a.createElement("option",{key:a,value:"".concat(((e.Offset+12)%24+1).toString().padStart(2,"0")," - ").concat(e.Name)},((e.Offset+12)%24+1).toString().padStart(2,"0")," -"," ",e.Name)}))),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.timezone)),!1,r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Check,{required:!0,name:"terms",label:G("Agree to terms and conditions"),onChange:s,isInvalid:!!c.terms&&i.terms,feedback:c.terms,id:"validationFormik0"})),r.a.createElement(j.a,{i18nKey:"AccountRegistration:The User Agreement and the Privacy Policy"},r.a.createElement(D.a,{style:{color:"var(--dark)"}}),r.a.createElement("a",{href:"#",onMouseDown:function(){return h(!0)}},"User Agreement"),r.a.createElement("br",null),r.a.createElement(D.a,{style:{color:"var(--dark)"}}),r.a.createElement("a",{href:"#",onMouseDown:function(){return S(!0)}},"Privacy Policy")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(M,Object.assign({},e,{caption:G("Submit"),request:a.request,namespace:a.namespace})))},validationSchema:U,onSubmit:function(e){!function(e){null!==e&&(e.reviser=d(),e.workplace=f(),e.email=c.email,p({req:a.request,data:e}))}(e)},initialValues:{terms:"",dropzoneHook:o,timezone:"",birthDate:""}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{variant:"info"},r.a.createElement(A.a.Heading,null,G("Account successfully registered")),r.a.createElement("p",null,r.a.createElement(j.a,{i18nKey:"AccountRegistration:Account with your personal ID successfully registered",accountNumber:l},"Account with the personal ID",r.a.createElement("strong",null,{accountNumber:l}),"successfully registered."))))},re=t(308),se=t(288),le=t(135),ie=t.n(le),oe=t(312),ce=t(287),ue=t(62),me=function(e){var a=Object.assign({namespace:"Pagination",size:"md",countItems:0,itemsPerPage:5,active:0,onClick:function(){},align:"center"},e),t=Math.ceil(a.countItems/a.itemsPerPage);if(t<2)return r.a.createElement(r.a.Fragment,null);var n=function(){for(var e=[],n=function(n){1===n||n===t||n>=a.active-1&&n<=a.active+1?e.push(r.a.createElement(ue.a.Item,{key:n,active:n===a.active,onClick:function(){return function(e){switch(e){case"First":e=1;break;case"Prev":e=a.active>1?a.active-1:1;break;case"Next":e=a.active<Math.ceil(a.countItems/a.itemsPerPage)?a.active+1:Math.ceil(a.countItems/a.itemsPerPage);break;case"Last":e=Math.ceil(a.countItems/a.itemsPerPage)}a.onClick(e)}(n)}},n)):2!==n&&n!==t-1||e.push(r.a.createElement(ue.a.Ellipsis,{key:n,disabled:!0}))},s=1;s<=t;s++)n(s);return e};return r.a.createElement(r.a.Fragment,null,function(){var e=a.align;return r.a.createElement("div",{style:{textAlign:"".concat(e)}},r.a.createElement("span",{style:{display:"inline-block"}},r.a.createElement(ue.a,{size:a.size,style:{padding:0,margin:0}},t>5&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a.First,{onClick:function(){return a.onClick("First")}}),r.a.createElement(ue.a.Prev,{onClick:function(){return a.onClick("Prev")}})),n(),t>5&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a.Next,{onClick:function(){return a.onClick("Next")}}),r.a.createElement(ue.a.Last,{onClick:function(){return a.onClick("Last")}})))))}())},de=function(e){var a=Object.assign({request:"get transactions",namespace:"Transactions"},e),t=a.barrelGetters,n=t.transactions,s=t.countTransactions,l=t.activePageTransactions,i=t.transactionsPerPage,o=t.accountNumber,c=a.barrelFunctions,u=c.getTransactions,m=c.format,d=c.formatDate,f=c.formatPerCent,p=Object(N.a)([a.namespace]).t,E=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{variant:"flush"},null!==n&&n.map((function(e,a){E++;var t=e.business_title,n=e.conv_amount,s=e.created,l=e.sender_firstname,i=e.sender_lastname,c=e.purpose_id,u=e.purpose_title,g=e.recipient_id,b=e.roles,v=e.share,h=e.share_per_cent,O=e.from_account,y=e.to_account,N=e.type,T=g===o,C=p(O),S=p(y),k=null!==b&&"-"!==b&&"undefined"!==typeof b,I=k?b.split(","):[],P="undefined"!==typeof v&&null!==v&&"-"!==v;return"allowance"===N?r.a.createElement(oe.a.Item,{key:a,action:!0},p("Daily allowance"),r.a.createElement("span",{style:{float:"right"}},m(n)),r.a.createElement("br",null),r.a.createElement("small",null,d(s,{month:"long",day:"numeric",year:"numeric"}))):"transfer U2S"===N?r.a.createElement(oe.a.Item,{key:a,action:!0},l," ",i,r.a.createElement("span",{style:{float:"right"}},T?"":"-",m(n)),r.a.createElement("br",null),r.a.createElement(j.a,{i18nKey:"Transactions:fromAccountToAccount",t_from_account:C,t_to_account:S},{t_from_account:C}," ",r.a.createElement(ce.a,{style:{color:"var(--dark)"}})," ",{t_to_account:S}),r.a.createElement("br",null),r.a.createElement("small",null,d(s))):"transfer U2U"===N?r.a.createElement(oe.a.Item,{key:a,action:!0},l," ",i,r.a.createElement("span",{style:{float:"right"}},T?"":"-",m(n)),r.a.createElement("br",null),r.a.createElement("small",null,d(s))):"transfer U2B"===N?r.a.createElement(oe.a.Item,{key:a,action:!0},c,r.a.createElement("span",{style:{float:"right"}},T?"":"-",m(n)),r.a.createElement("br",null),t," \xb7 ",u,r.a.createElement("br",null),l," ",i,k&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),I.map((function(e,a){return r.a.createElement("span",{key:a}," ",r.a.createElement(se.a,{pill:!0,variant:"secondary"},e))})))," ",P&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),v," ",p("shares")," (",f(h),")"),r.a.createElement("br",null),r.a.createElement("small",null,d(s))):(console.log("Unknown transfer type:",N),r.a.createElement(r.a.Fragment,null))}))),0===E&&r.a.createElement("p",{className:"text-center text-muted"},p("No transactions")),r.a.createElement("br",null),r.a.createElement(me,Object.assign({},e,{size:"sm",countItems:s,itemsPerPage:i,active:l,onClick:function(e){switch(e){case"First":e=1;break;case"Prev":e=l>1?l-1:1;break;case"Next":e=l<Math.ceil(s/i)?l+1:Math.ceil(s/i);break;case"Last":e=Math.ceil(s/i)}u(e)}})))},fe=t(307),pe=t(289),Ee=function(e){var a=Object.assign({namespace:"Shareholder",request:"change share",purpose:null,shareholder:null,closeButton:!0,rangeControl:!0,sharePerCent:null,businessTitle:null,purposeTitle:null,businessOwnerFirstname:null,businessOwnerLastname:null,sharesCreated:null},e),t=a.barrelGetters.purposeShareholders,s=a.barrelSetters.setPurposeShareholders,l=a.barrelFunctions,o=l.sendRequest,c=l.formatPerCent,u=l.formatDate,m=Object(n.useState)(a.share),d=Object(i.a)(m,2),f=d[0],p=d[1],E=Object(n.useRef)(y.a.debounce((function(e){return h(e)}),2e3)).current,g=Object(N.a)([a.namespace]).t,b=function(e){p(e.target.value),E(e.target.value)},v=function(){var e={};return e.purpose_id=a.purpose,e.shareholder_id=a.shareholder,o({req:"remove shareholder",data:e})},h=function(e){var n=t;n[a.id].share=e,s(JSON.stringify(n));var r={};return r.purpose_id=a.purpose,r.shareholder_id=a.shareholder,r.share=e,o({req:a.request,data:r})};return r.a.createElement(r.a.Fragment,null,function(){var e="sharesLabel".concat(a.key);return r.a.createElement(fe.a,{key:a.key,onClose:v,style:{minWidth:"100%"}},r.a.createElement(fe.a.Header,{closeButton:a.closeButton},r.a.createElement("strong",{className:"mr-auto"},a.firstname," ",a.lastname," ",r.a.createElement("small",null,r.a.createElement(pe.a,{hidden:!0,fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement("small",null,r.a.createElement("span",{id:e},f)," ",g("shares"))),r.a.createElement(fe.a.Body,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Group,{controlId:"formRoles"},r.a.createElement("div",null,a.roles.map((function(e,a){return r.a.createElement("span",{key:a},r.a.createElement(se.a,{pill:!0,variant:"secondary"},e)," ")})))),a.rangeControl&&r.a.createElement(w.a.Group,{controlId:"formBasicRange"},r.a.createElement(w.a.Control,{type:"range",variant:"light",defaultValue:f,min:0,max:1e3,step:1,onChange:b}))),r.a.createElement("span",null,null!==a.sharePerCent&&c(a.sharePerCent)," ",null!==a.businessTitle&&a.businessTitle," ",null!==a.businessTitle&&null!==a.purposeTitle&&r.a.createElement(r.a.Fragment,null," \xb7 "),null!==a.purposeTitle&&a.purposeTitle," "),null!==a.sharesCreated&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),u(a.sharesCreated,{month:"long",day:"numeric",year:"numeric"}))," ",(null!==a.businessOwnerFirstname||null!==a.businessOwnerLastname)&&r.a.createElement("br",null),null!==a.businessOwnerFirstname&&a.businessOwnerFirstname," ",null!==a.businessOwnerLastname&&a.businessOwnerLastname," "))}())},ge=function(e){var a=Object.assign({request:"get shares",namespace:"Shares"},e),t=a.barrelGetters,n=t.shares,s=t.countShares,l=t.activePageShares,i=t.sharesPerPage,o=t.userData,c=a.barrelFunctions.getShares,u=Object(N.a)([a.namespace]).t,m=0;return r.a.createElement(r.a.Fragment,null,null!==n&&n.map((function(a,t){m++;var n=a.business_title,s=a.owner_firstname,l=a.owner_lastname,i=a.purpose_id,c=a.purpose_title,u=a.shareholder_id,d=a.shares_created,f=a.share_per_cent,p=a.shares_roles,E=a.shares_share,g=null!==p?p.split(","):[];return r.a.createElement(Ee,Object.assign({},e,{key:t,id:t,shareholder:u,purpose:i,firstname:o.firstname,lastname:o.lastname,share:E,roles:g,closeButton:!1,rangeControl:!1,sharePerCent:f,businessOwnerFirstname:s,businessOwnerLastname:l,businessTitle:n,purposeTitle:c,sharesCreated:d}))})),0===m&&r.a.createElement("p",{className:"text-center text-muted"},u("No shares")),r.a.createElement(me,Object.assign({},e,{size:"md",countItems:s,itemsPerPage:i,active:l,onClick:function(e){switch(console.log("on page select",e),e){case"First":e=1;break;case"Prev":e=l>1?l-1:1;break;case"Next":e=l<Math.ceil(s/i)?l+1:Math.ceil(s/i);break;case"Last":e=Math.ceil(s/i)}c(e)}})))},be=function(e){var a=Object.assign({},e),t=a.barrelGetters,n=t.userData,s=t.accountNumber,l=t.accordionView,i=a.barrelSetters,o=i.setAccountType,c=i.setRedirectTo,u=i.setAccordionView,m=a.barrelFunctions,d=m.format,f=m.getAccountData,p=m.getTransactions,E=m.getShares,g=Object(N.a)("Balance").t,b=n,v=function(e){o(e),c("/transfer")},h=null!==b?d(b.acc_curr+b.acc_cred+b.acc_save):null,O=null!==b?d(b.acc_curr):null,y=null!==b?d(b.acc_cred):null,T=null!==b?d(b.acc_save):null;null===s&&c("/sign-out");return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{defaultActiveKey:l},r.a.createElement(_.a,null,r.a.createElement(re.a.Toggle,{as:_.a.Header,eventKey:"balance",style:{cursor:"pointer"},onClick:function(){u("balance"),f()}},g("Balance")),r.a.createElement(re.a.Collapse,{eventKey:"balance"},r.a.createElement(_.a.Body,null,r.a.createElement(w.a,{noValidate:!0},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,null,g("Available")),r.a.createElement(w.a.Text,null,r.a.createElement("div",{style:{fontSize:"3em"}},h))),r.a.createElement(w.a.Group,null,r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},g("Current account")),r.a.createElement("span",{className:"link",onClick:function(){return v("acc_curr")}},r.a.createElement(se.a,{variant:"Light"},O),"\xa0",r.a.createElement(ie.a,{style:{color:"var(--dark)"}}))),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},g("Credit account")),r.a.createElement("span",{className:"link",onClick:function(){return v("acc_cred")}},r.a.createElement(se.a,{variant:"Light"},y),"\xa0",r.a.createElement(ie.a,{style:{color:"var(--dark)"}}))),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},g("Savings account")),r.a.createElement("span",{className:"link",onClick:function(){return v("acc_save")}},r.a.createElement(se.a,{variant:"Light"},T),"\xa0",r.a.createElement(ie.a,{style:{color:"var(--dark)"}}))))))))),r.a.createElement(_.a,null,r.a.createElement(re.a.Toggle,{as:_.a.Header,eventKey:"transactions",style:{cursor:"pointer"},onClick:function(){u("transactions"),p(1)}},g("Transactions")),r.a.createElement(re.a.Collapse,{eventKey:"transactions"},r.a.createElement(_.a.Body,null,r.a.createElement(de,e)))),r.a.createElement(_.a,null,r.a.createElement(re.a.Toggle,{as:_.a.Header,eventKey:"shares",style:{cursor:"pointer"},onClick:function(){u("shares"),E(1)}},g("Shares")),r.a.createElement(re.a.Collapse,{eventKey:"shares"},r.a.createElement(_.a.Body,null,r.a.createElement(ge,e))))))},ve=function(e){var a=e.args,t=e.title,n=e.navigation,s=e.navigationdefaultActiveKey,l=e.onNavigationClick,i=Object.assign({request:"transfer U2S",namespace:"Transfer"},a),o=i.barrelGetters,c=o.userData,u=o.accountNumber,m=o.accountType,d=o.language,f=o.currencyAbbr,p=i.barrelFunctions,E=p.format,g=p.parseLocaleNumber,b=p.sendRequest,v=p.getReviser,h=p.getWorkplace,O=Object(N.a)([i.namespace]).t,y=x.c({fromAccount:x.d().required(O("From Account is required")),toAccount:x.d().required(O("To Account is required")),amount:x.d().required(O("Amount is required")).matches(new RegExp(O("Amount Regex")),O("Wrong amount format"))}),T="",C="",S="";null!==c&&(T=" ("+E(c.acc_curr)+")",C=" ("+E(c.acc_cred)+")",S=" ("+E(c.acc_save)+")");return r.a.createElement(R.a,{component:function(e){var o=e.handleSubmit,c=e.handleChange,u=(e.handleBlur,e.values),d=e.touched,p=(e.isValid,e.validateForm,e.errors);return r.a.createElement(q,{title:t,navigation:n,navigationdefaultActiveKey:s,onNavigationClick:l},r.a.createElement(w.a,{noValidate:!0,onSubmit:o},r.a.createElement(w.a.Group,{controlId:"validationFromAccount"},r.a.createElement(w.a.Label,null,O("From account")),r.a.createElement(w.a.Control,{as:"select",custom:!0,name:"fromAccount",onChange:c,isInvalid:!!p.fromAccount&&d.fromAccount},r.a.createElement("option",{value:""},O("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==m&&"acc_curr"!==m},O("Current account"),T),r.a.createElement("option",{value:"acc_cred",hidden:null!==m&&"acc_cred"!==m},O("Credit account"),C),r.a.createElement("option",{value:"acc_save",hidden:null!==m&&"acc_save"!==m},O("Savings account"),S)),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},p.fromAccount)),r.a.createElement(w.a.Group,{controlId:"validationToAccount"},r.a.createElement(w.a.Label,null,O("To account")),r.a.createElement(w.a.Control,{as:"select",custom:!0,name:"toAccount",onChange:c,isInvalid:!!p.toAccount&&d.toAccount},r.a.createElement("option",{value:""},O("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:"acc_curr"===m},O("Current account"),T),r.a.createElement("option",{value:"acc_cred",hidden:"acc_cred"===m},O("Credit account"),C),r.a.createElement("option",{value:"acc_save",hidden:"acc_save"===m},O("Savings account"),S)),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},p.toAccount)),r.a.createElement(w.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(w.a.Label,null,O("Amount")),r.a.createElement(F.a,null,r.a.createElement(F.a.Prepend,null,r.a.createElement(F.a.Text,{id:"inputGroupPrepend"},f)),r.a.createElement(w.a.Control,{placeholder:E(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",value:u.amount,onChange:c,isInvalid:!!p.amount&&d.amount}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},p.amount))),r.a.createElement(M,Object.assign({},a,{caption:O("Submit"),request:"transfer U2S",namespace:i.namespace}))))},validationSchema:y,onSubmit:function(e){!function(e){e.reviser=v(),e.workplace=h(),e.uid=u,e.amount=g(e.amount,d),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2}).format(e.amount),b({req:i.request,data:e})}(e)},initialValues:{fromAccount:"",toAccount:"",amount:""}})},he=function(e){var a=e.args,t=e.title,n=e.navigation,s=e.navigationdefaultActiveKey,l=e.onNavigationClick,i=Object.assign({request:"transfer U2U",namespace:"Transfer"},a),o=i.barrelGetters,c=o.userData,u=o.accountNumber,m=o.language,d=o.accountType,f=o.currencyAbbr,p=i.barrelFunctions,E=p.format,g=p.parseLocaleNumber,b=p.sendRequest,v=p.getReviser,h=p.getWorkplace,O=Object(N.a)([i.namespace]).t,y=x.c({fromAccount:x.d().required(O("From Account is required")),toPersonalID:x.d().required(O("Recipients Personal ID is required")).matches(new RegExp(O("Personal ID Regex")),O("Wrong Personal ID format")),amount:x.d().required(O("Amount is required")).matches(new RegExp(O("Amount Regex")),O("Wrong amount format"))}),T="",C="",S="";null!==c&&(T=" ("+E(c.acc_curr)+")",C=" ("+E(c.acc_cred)+")",S=" ("+E(c.acc_save)+")");return r.a.createElement(R.a,{component:function(e){var o=e.handleSubmit,c=e.handleChange,u=(e.handleBlur,e.values),m=e.touched,p=(e.isValid,e.errors);return r.a.createElement(q,{title:t,navigation:n,navigationdefaultActiveKey:s,onNavigationClick:l},r.a.createElement(w.a,{noValidate:!0,onSubmit:o},r.a.createElement(w.a.Group,{controlId:"validationFromAccount"},r.a.createElement(w.a.Label,null,O("From account")),r.a.createElement(w.a.Control,{as:"select",custom:!0,name:"fromAccount",onChange:c,isInvalid:!!p.fromAccount&&m.fromAccount},r.a.createElement("option",{value:""},O("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==d&&"acc_curr"!==d},O("Current account"),T),r.a.createElement("option",{value:"acc_cred",hidden:null!==d&&"acc_cred"!==d},O("Credit account"),C),r.a.createElement("option",{value:"acc_save",hidden:null!==d&&"acc_save"!==d},O("Savings account"),S)),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},p.fromAccount)),r.a.createElement(w.a.Group,{controlId:"validationFormikToPersonalID"},r.a.createElement(w.a.Label,null,O("To Personal ID")),r.a.createElement(F.a,null,r.a.createElement(F.a.Prepend,null,r.a.createElement(F.a.Text,{id:"inputGroupPrepend"},"ID")),r.a.createElement(w.a.Control,{type:"text",placeholder:"XXXXXX-XXXXX","aria-describedby":"inputGroupPrepend",name:"toPersonalID",value:u.toPersonalID,onChange:c,isInvalid:!!p.toPersonalID&&m.toPersonalID}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},p.toPersonalID))),r.a.createElement(w.a.Group,{controlId:"description",name:"description",value:u.description,onChange:c},r.a.createElement(w.a.Label,null,O("Description")),r.a.createElement(w.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(w.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(w.a.Label,null,O("Amount")),r.a.createElement(F.a,null,r.a.createElement(F.a.Prepend,null,r.a.createElement(F.a.Text,{id:"inputGroupPrepend"},f)),r.a.createElement(w.a.Control,{placeholder:E(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",value:u.amount,onChange:c,isInvalid:!!p.amount&&m.amount}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},p.amount))),r.a.createElement(M,Object.assign({},a,{caption:O("Submit"),request:i.request,namespace:i.namespace}))))},validationSchema:y,onSubmit:function(e){!function(e){e.reviser=v(),e.workplace=h(),e.uid=u,e.amount=g(e.amount,m),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2}).format(e.amount),b({req:i.request,data:e})}(e)},initialValues:{fromAccount:"",toPersonalID:"",amount:"",description:""}})},Oe=function(e){var a=e.args,t=e.title,n=e.navigation,s=e.navigationdefaultActiveKey,l=e.onNavigationClick,i=Object.assign({request:"transfer U2B",namespace:"Transfer"},a),o=i.barrelGetters,c=o.userData,u=o.accountNumber,m=o.language,d=o.accountType,f=o.currencyAbbr,p=i.barrelFunctions,E=p.format,g=p.parseLocaleNumber,b=p.sendRequest,v=p.getReviser,h=p.getWorkplace,O=Object(N.a)([i.namespace]).t,y=x.c({fromAccount:x.d().required(O("From Account is required")),purposeID:x.d().required(O("Purpose ID is required")),amount:x.d().required(O("Amount is required")).matches(new RegExp(O("Amount Regex")),O("Wrong amount format"))}),T="",C="",S="";null!==c&&(T=" ("+E(c.acc_curr)+")",C=" ("+E(c.acc_cred)+")",S=" ("+E(c.acc_save)+")");return r.a.createElement(R.a,{component:function(e){var o=e.handleSubmit,c=e.handleChange,u=(e.handleBlur,e.values),m=e.touched,p=(e.isValid,e.errors);return r.a.createElement(q,{title:t,navigation:n,navigationdefaultActiveKey:s,onNavigationClick:l},r.a.createElement(w.a,{noValidate:!0,onSubmit:o},r.a.createElement(w.a.Group,{controlId:"validationFromAccount"},r.a.createElement(w.a.Label,null,O("From account")),r.a.createElement(w.a.Control,{as:"select",custom:!0,name:"fromAccount",onChange:c,isInvalid:!!p.fromAccount&&m.fromAccount},r.a.createElement("option",{value:""},O("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==d&&"acc_curr"!==d},O("Current account"),T),r.a.createElement("option",{value:"acc_cred",hidden:null!==d&&"acc_cred"!==d},O("Credit account"),C),r.a.createElement("option",{value:"acc_save",hidden:null!==d&&"acc_save"!==d},O("Savings account"),S)),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},p.fromAccount)),r.a.createElement(w.a.Group,{controlId:"validationFormikDestinationAccountID"},r.a.createElement(w.a.Label,null,O("To Purpose ID")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"purposeID",value:u.purposeID,onChange:c,isInvalid:!!p.purposeID&&m.purposeID}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},p.purposeID))),r.a.createElement(w.a.Group,{controlId:"description",name:"description",value:u.description,onChange:c},r.a.createElement(w.a.Label,null,O("Description")),r.a.createElement(w.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(w.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(w.a.Label,null,O("Amount")),r.a.createElement(F.a,null,r.a.createElement(F.a.Prepend,null,r.a.createElement(F.a.Text,{id:"inputGroupPrepend"},f)),r.a.createElement(w.a.Control,{type:"string",placeholder:E(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",value:u.amount,onChange:c,isInvalid:!!p.amount&&m.amount}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},p.amount))),r.a.createElement(M,Object.assign({},a,{caption:O("Submit"),request:i.request,namespace:i.namespace}))))},validationSchema:y,onSubmit:function(e){!function(e){e.reviser=v(),e.workplace=h(),e.uid=u,e.currency=f,e.amount=g(e.amount,m),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2}).format(e.amount),b({req:i.request,data:e})}(e)},initialValues:{fromAccount:"",purposeID:"",amount:"",description:""}})},ye=t(309),Ne=t(290),Te=t(291),Ce=t(292),Se=function(e){var a=Object.assign({},e),t=a.barrelGetters.accountNumber,n=a.barrelFunctions,s=n.sendRequest,l=n.getReviser,i=n.getWorkplace,o=(a.barrelEventHandlers.onBusinessRegistration,Object(N.a)(["BusinessRegistration"]).t),c=x.c({businessTitle:x.d().required(o("Business title is a required field")).min(3,o("Business title too short")).max(70,o("Business title too long")).trim(),businessDescription:x.d().optional()});return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{component:function(e){var a=e.handleSubmit,t=e.handleChange,n=(e.handleBlur,e.values),s=e.touched,l=(e.isValid,e.errors);return r.a.createElement(w.a,{noValidate:!0,onSubmit:a},r.a.createElement(w.a.Group,{controlId:"validationFormikDestinationAccountID"},r.a.createElement(w.a.Label,null,o("Business Title")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"businessTitle",value:n.businessTitle,onChange:t,isInvalid:!!l.businessTitle&&s.businessTitle}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},l.businessTitle))),r.a.createElement(w.a.Group,{controlId:"businessDescription",name:"businessDescription",value:n.businessDescription,onChange:t},r.a.createElement(w.a.Label,null,o("Business Description")),r.a.createElement(w.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(H.a,{type:"submit",block:!0},o("Submit")))},validationSchema:c,onSubmit:function(e){!function(e){e.reviser=l(),e.workplace=i(),e.uid=t,s({req:"register business",data:e})}(e)},initialValues:{businessTitle:"",businessDescription:""}}))},ke=function(e){var a=Object.assign({businessID:null},e),t=a.data,n=a.businessID,s=t.barrelGetters.accountNumber,l=t.barrelFunctions,i=l.getReviser,o=l.getWorkplace,c=t.barrelEventHandlers.onPurposeRegistration,u=Object(N.a)(["PurposeRegistration"]).t,m=x.c({purposeTitle:x.d().required(u("Purpose title is a required field")).min(3,u("Purpose title too short")).max(70,u("Purpose title too long")).trim(),purposeDescription:x.d().optional()});return r.a.createElement(R.a,{component:function(e){var a=e.handleSubmit,t=e.handleChange,n=(e.handleBlur,e.values),s=e.touched,l=(e.isValid,e.errors);return r.a.createElement(w.a,{noValidate:!0,onSubmit:a},r.a.createElement(w.a.Group,{controlId:"validationFormikPurposeID"},r.a.createElement(w.a.Label,null,u("Purpose Title")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"purposeTitle",value:n.purposeTitle,onChange:t,isInvalid:!!l.purposeTitle&&s.purposeTitle}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},l.purposeTitle))),r.a.createElement(w.a.Group,{controlId:"purposeDescription",name:"purposeDescription",value:n.purposeDescription,onChange:t},r.a.createElement(w.a.Label,null,u("Purpose Description")),r.a.createElement(w.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(H.a,{type:"submit",block:!0},u("Submit")))},validationSchema:m,onSubmit:function(e){!function(e){e.reviser=i(),e.workplace=o(),e.businessID=n,e.uid=s,c({req:"register purpose",data:e})}(e)},initialValues:{purposeTitle:"",purposeDescription:""}})},Ie=function(e){var a=Object.assign({request:"register shareholder",namespace:"ShareholderRegistration"},e),t=a,n=a.purposeID,s=t.barrelGetters.accountNumber,l=t.barrelFunctions,i=l.getReviser,o=l.getWorkplace,c=l.sendRequest,u=Object(N.a)([a.namespace]).t,m=x.c({personalID:x.d().required(u("Personal ID is required")).matches(new RegExp(u("Personal ID Regex")),u("Wrong Personal ID format")),shareholderRoles:x.d().optional(),shares:x.b().typeError(u("Shares must be a number")).required(u("Shares is required")).min(0,u("Shares too few")).max(1e3,u("Shares too many"))});return r.a.createElement(R.a,{component:function(t){var n=t.handleSubmit,s=t.handleChange,l=(t.handleBlur,t.values),i=t.touched,o=(t.isValid,t.errors);return r.a.createElement(w.a,{id:"shareholderRegistrationForm",noValidate:!0,onSubmit:n},r.a.createElement(fe.a,{style:{minWidth:"100%"}},r.a.createElement(fe.a.Body,null,r.a.createElement(w.a.Group,{controlId:"validationFormikShareholderPersonalID"},r.a.createElement(w.a.Label,null,u("Shareholder Personal ID")),r.a.createElement(F.a,null,r.a.createElement(F.a.Prepend,null,r.a.createElement(F.a.Text,{id:"inputGroupPrepend"},"ID")),r.a.createElement(w.a.Control,{type:"text",placeholder:u("XXXXXX-XXXXX"),"aria-describedby":"inputGroupPrepend",name:"personalID",value:l.personalID,onChange:s,isInvalid:!!o.personalID&&i.personalID}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.personalID))),r.a.createElement(w.a.Group,{controlId:"validationFormikShareholderRoles"},r.a.createElement(w.a.Label,null,u("Shareholder Roles")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"shareholderRoles",value:l.shareholderRoles,onChange:s,isInvalid:!!o.shareholderRoles&&i.shareholderRoles}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.shareholderRoles))),r.a.createElement(w.a.Group,{controlId:"validationFormikShareholderRoles"},r.a.createElement(w.a.Label,null,u("Shares")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"number",min:0,max:1e3,step:1,placeholder:"","aria-describedby":"inputGroupPrepend",name:"shares",value:l.shares,onChange:s,isInvalid:!!o.shares&&i.shares}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.shares))),r.a.createElement(M,Object.assign({},e,{caption:u("Submit"),request:a.request,namespace:a.namespace})))))},validationSchema:m,onSubmit:function(e){e.reviser=i(),e.workplace=o(),e.uid=s,e.purposeID=n,c({req:a.request,data:e})},initialValues:{personalID:"",shares:0,shareholderRoles:""}})},Pe=function(e){var a=Object.assign({namespace:"MyBusiness"},e),t=a.barrelGetters,s=t.userBusinesses,l=t.countBusinesses,i=t.businessesPerPage,o=t.activePageBusinesses,c=t.userBusinessesLoaded,u=t.activeBusiness,m=t.activeBusinessID,d=t.businessPurposes,f=t.countBusinessPurposes,p=t.businessPurposesPerPage,E=t.activePageBusinessPurposes,g=t.activeBusinesPurpose,b=t.purposeShareholders,v=t.language,h=t.accountNumber,O=a.barrelSetters.setRedirectTo,y=a.barrelFunctions,T=y.getBusinesses,k=y.getBusinessPurposes,I=y.getPurposeShareholders,P=Object(N.a)([a.namespace]).t;Object(n.useEffect)((function(){}),[]);var j=[],w=[],F=0;null!==s&&Object.keys(s).map((function(a,t){return j[t]=[],w[t]=[],null!==d&&Object.keys(d).map((function(n,l){return d[n].business_id===s[a].business_id&&(j[t][l]=r.a.createElement(oe.a.Item,{action:!0,key:d[n].purpose_id,eventKey:d[n].purpose_id,onClick:function(){return function(e){var a=e.eventKey,t=e.purposeID;I(t,a)}({eventKey:l,purposeID:d[n].purpose_id})}},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},r.a.createElement(Ne.a,{style:{color:"var(--dark)"}})," ",d[n].title)),w[t][l]=r.a.createElement(ye.a.Pane,{key:d[n].purpose_id,eventKey:d[n].purpose_id},r.a.createElement(re.a,{defaultActiveKey:"shareholders"},r.a.createElement(_.a,{bg:"light"},r.a.createElement(re.a.Toggle,{as:_.a.Header,style:{cursor:"pointer"},eventKey:"purpose_id"},P("Purpose ID")),r.a.createElement(re.a.Collapse,{eventKey:"purpose_id"},r.a.createElement(_.a.Body,null,r.a.createElement(_.a.Text,null,d[n].purpose_id)))),r.a.createElement(_.a,{bg:"light"},r.a.createElement(re.a.Toggle,{as:_.a.Header,style:{cursor:"pointer"},eventKey:"description"},P("Purpose Description")),r.a.createElement(re.a.Collapse,{eventKey:"description"},r.a.createElement(_.a.Body,null,r.a.createElement(_.a.Text,null,d[n].description)))),r.a.createElement(_.a,{bg:"light"},r.a.createElement(re.a.Toggle,{as:_.a.Header,style:{cursor:"pointer"},eventKey:"shareholders"},P("Purpose Shareholders")),r.a.createElement(re.a.Collapse,{eventKey:"shareholders"},r.a.createElement(_.a.Body,null,"undefined"!==typeof b&&null!==b&&Object.keys(b).map((function(a,t){if(b[a].purpose_id===d[n].purpose_id){var s=b[a].purpose_id,l=b[a],i=l.shareholder_id,o=l.firstname,c=l.lastname,u=l.roles,m=l.share;F++;var f=null!==u?u.split(","):[];return r.a.createElement(Ee,Object.assign({},e,{key:t,id:t,shareholder:i,purpose:s,firstname:o,lastname:c,share:m,roles:f}))}return""})),0===F&&r.a.createElement(_.a.Text,{className:"text-muted"},P("No shareholders"))))),r.a.createElement(_.a,{bg:"light"},r.a.createElement(re.a.Toggle,{as:_.a.Header,style:{cursor:"pointer"},eventKey:"2"},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},r.a.createElement(Te.a,{fontSize:"small",style:{color:"var(--dark)"}}),"\xa0",P("Add Shareholder"))),r.a.createElement(re.a.Collapse,{eventKey:"2"},r.a.createElement(_.a.Body,null,r.a.createElement(Ie,Object.assign({},e,{purposeID:d[n].purpose_id})))))))),F=0,!0})),!0}));var A=r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{defaultActiveKey:null===u&&c?"myBusinesses":u},r.a.createElement(_.a,null,r.a.createElement(re.a.Toggle,{as:_.a.Header,eventKey:"addBusiness",style:{cursor:"pointer"}},r.a.createElement("span",null,r.a.createElement(Te.a,{fontSize:"small",style:{color:"var(--dark)"}}),"\xa0",P("Add Business"))),r.a.createElement(re.a.Collapse,{eventKey:"addBusiness"},r.a.createElement(_.a.Body,null,r.a.createElement(Se,e)))),null!==s&&Object.keys(s).map((function(a,t){var n=new Date(s[a].created),l=new Intl.DateTimeFormat(v).format(n);return r.a.createElement(_.a,{key:t},r.a.createElement(re.a.Toggle,{as:_.a.Header,eventKey:t,style:{cursor:"pointer"},onClick:function(){return function(e){var a=e.eventKey,t=e.businessID;k(t,a,1)}({eventKey:t,businessID:s[a].business_id})}},r.a.createElement(Ce.a,{style:{color:"var(--dark)"}})," ",s[a].title),r.a.createElement(re.a.Collapse,{eventKey:t},r.a.createElement(_.a.Body,null,r.a.createElement(ye.a.Container,{id:"left-tabs-example",defaultActiveKey:null!==g?g:"aboutBusiness"},r.a.createElement(C.a,null,r.a.createElement(S.a,{sm:5},r.a.createElement(oe.a,{variant:"flush"},r.a.createElement(oe.a.Item,{action:!0,eventKey:"aboutBusiness"},P("About")),r.a.createElement(oe.a.Item,{action:!0,eventKey:"addPurpose"},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},r.a.createElement(Te.a,{fontSize:"small",style:{color:"var(--dark)"}}),"\xa0",P("Add Purpose"))),j[t]),null!==f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(me,Object.assign({},e,{size:"sm",countItems:f,itemsPerPage:p,active:E,onClick:function(e){return k(m,0,e)}})))),r.a.createElement(S.a,{sm:7},r.a.createElement(ye.a.Content,null,r.a.createElement(ye.a.Pane,{eventKey:"aboutBusiness"},r.a.createElement(re.a,{defaultActiveKey:"businessID"},r.a.createElement(_.a,null,r.a.createElement(re.a.Toggle,{as:_.a.Header,style:{cursor:"pointer"},eventKey:"businessID"},P("Business ID")),r.a.createElement(re.a.Collapse,{eventKey:"businessID"},r.a.createElement(_.a,{border:"light"},r.a.createElement(_.a.Body,null,r.a.createElement(_.a.Text,null,s[a].business_id))))),r.a.createElement(_.a,null,r.a.createElement(re.a.Toggle,{as:_.a.Header,style:{cursor:"pointer"},eventKey:"businessDescription"},P("Business Description")),r.a.createElement(re.a.Collapse,{eventKey:"businessDescription"},r.a.createElement(_.a,{border:"light"},r.a.createElement(_.a.Body,null,r.a.createElement(_.a.Text,null,s[a].description))))),r.a.createElement(_.a,null,r.a.createElement(re.a.Toggle,{as:_.a.Header,style:{cursor:"pointer"},eventKey:"businessCreationDate"},P("Business Created")),r.a.createElement(re.a.Collapse,{eventKey:"businessCreationDate"},r.a.createElement(_.a,{border:"light"},r.a.createElement(_.a.Body,null,r.a.createElement(_.a.Text,null,l))))))),w[t],r.a.createElement(ye.a.Pane,{eventKey:"addPurpose"},r.a.createElement(re.a,{defaultActiveKey:"newPurpose"},r.a.createElement(_.a,null,r.a.createElement(re.a.Toggle,{as:_.a.Header,eventKey:"newPurpose"},P("New Purpose")),r.a.createElement(re.a.Collapse,{eventKey:"newPurpose"},r.a.createElement(_.a.Body,null,r.a.createElement(ke,{data:e,businessID:s[a].business_id})))))))))))))})),!1),null!==s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(me,Object.assign({},e,{size:"md",countItems:l,itemsPerPage:i,active:o,onClick:function(e){return T(e)}}))));return null===h&&O("/sign-out"),r.a.createElement(r.a.Fragment,null,A)},je=(t(228),t(294)),we=t(295),Fe=t(296),Ae=t(297),De=function(e){var a=Object.assign({namespace:"UserEditor",request:"update user",mode:"label"},e),t=a.barrelGetters,s=t.userData,l=t.accountNumber,o=a.barrelFunctions,c=o.sendRequest,u=o.getReviser,m=o.getWorkplace,d=Object(n.useState)(!1),f=Object(i.a)(d,2),p=f[0],E=f[1],g=Object(n.useState)(!1),b=Object(i.a)(g,2),v=b[0],h=b[1],O=Object(n.useState)(!1),y=Object(i.a)(O,2),T=y[0],C=y[1],S=Object(n.useState)(!1),k=Object(i.a)(S,2),I=k[0],P=k[1],j=Object(n.useState)(!1),A=Object(i.a)(j,2),D=A[0],_=A[1],L=Object(n.useState)(!1),B=Object(i.a)(L,2),G=B[0],U=B[1];Object(n.useEffect)((function(){U(!!(p||v||T||I))}),[p,v,T,I]);var K=Object(N.a)([a.namespace]).t,V=function(){_(!D)},z={firstName:p?x.d().required(K("First name is required")):x.d().optional(),lastName:v?x.d().required(K("Last name is required")):x.d().optional(),email:T?x.d().email(K("Invalid email address")).required(K("Email is required")):x.d().optional(),password:I?x.d().required(K("No password provided")).min(8,K("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,K("Password is too weak")):x.d().optional()},H=x.c(z);if(null===s)return r.a.createElement(r.a.Fragment,null);var W=a.mode,J=s.firstname,X=s.lastname,Y=s.email,Z="label"===W?r.a.createElement("span",{style:{whiteSpace:"nowrap"}},J," ",X):r.a.createElement(R.a,{component:function(t){var n=t.handleSubmit,s=t.handleChange,i=(t.handleBlur,t.values),o=t.touched,c=(t.isValid,t.validateForm,t.errors);return r.a.createElement(w.a,{noValidate:!0,onSubmit:n},r.a.createElement(q,{title:K("Profile")},r.a.createElement(oe.a,{variant:"flush"},r.a.createElement(oe.a.Item,{as:"div",action:!0},r.a.createElement(w.a.Label,null,K("First name")),p?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(we.a,{onClick:function(){return E(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(je.a,{onClick:function(){return E(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,J)),p&&r.a.createElement(w.a.Group,{controlId:"validationFormikFirstName"},r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:K("Enter first name"),name:"firstName",value:i.firstName,onChange:s,isInvalid:!!c.firstName&&o.firstName}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.firstName)))),r.a.createElement(oe.a.Item,{as:"div",action:!0},r.a.createElement(w.a.Label,null,K("Last name")),v?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(we.a,{onClick:function(){return h(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(je.a,{onClick:function(){return h(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,X)),v&&r.a.createElement(w.a.Group,{controlId:"validationFormikLastName"},r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:K("Enter last name"),name:"lastName",value:i.lastName,onChange:s,isInvalid:!!c.lastName&&o.lastName}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.lastName)))),null!==l&&r.a.createElement(oe.a.Item,{as:"div",action:!0},r.a.createElement(w.a.Label,null,K("Email address")),T?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(we.a,{onClick:function(){return C(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(je.a,{onClick:function(){return C(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,Y)),T&&r.a.createElement(w.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{placeholder:K("Enter email"),name:"email",value:i.email,onChange:s,isInvalid:!!c.email&&o.email}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.email)))),r.a.createElement(oe.a.Item,{as:"div",action:!0},r.a.createElement(w.a.Label,null,K("Password")),I?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(we.a,{onClick:function(){return P(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(je.a,{onClick:function(){return P(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),I&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:D?"text":"password",placeholder:K("Enter new password"),name:"password",value:i.password,onChange:s,isInvalid:!!c.password&&o.password}),r.a.createElement(F.a.Append,null,r.a.createElement(F.a.Text,{id:"inputGroupAppend",onClick:V,style:{cursor:"pointer"}},D?r.a.createElement(Fe.a,{fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}):r.a.createElement(Ae.a,{fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.password)))))),r.a.createElement(w.a.Group,{controlId:"validationSubmitButton"},r.a.createElement(M,Object.assign({},e,{caption:K("Submit"),visible:G,marginTop:20,request:a.request,namespace:a.namespace})))))},validationSchema:H,onSubmit:function(e){e.personalID=l,p||(e.firstname=null),v||(e.lastname=null),T||(e.email=s.email),I||(e.password=null),function(e){null!==e&&(e.reviser=u(),e.workplace=m(),c({req:a.request,data:e}))}(e)},initialValues:{firstName:s.firstname,lastName:s.lastname,email:s.email,password:""}});return r.a.createElement(r.a.Fragment,null,Z)},_e=t(298),qe=function(e){var a=Object.assign({request:"register currency",namespace:"Currencies"},e),t=a.barrelGetters,n=t.currencies,s=t.countCurrencies,l=t.activePageCurrencies,i=t.currenciesPerPage,o=t.currencyAbbr,c=t.userData,u=a.barrelSetters.setCurrencyAbbr,m=a.barrelFunctions,d=m.sendRequest,f=m.getCurrencies,p=m.formatExchangeRate,E=Object(N.a)([a.namespace]).t,g=function(e){u(e.target.id),d({req:"register user currency",data:{email:c.email,currency_id:e.target.id}})},b=function(e){switch(e){case"First":e=1;break;case"Prev":e=l>1?l-1:1;break;case"Next":e=l<Math.ceil(s/i)?l+1:Math.ceil(s/i);break;case"Last":e=Math.ceil(s/i)}f(e)};return r.a.createElement(R.a,{component:function(a){a.handleSubmit,a.handleChange,a.handleBlur,a.values,a.touched,a.isValid,a.validateForm,a.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center"}},E("Select")),r.a.createElement("th",{style:{textAlign:"center"}},E("Abbr")),r.a.createElement("th",{style:{textAlign:"center"}},E("Name")),r.a.createElement("th",{style:{textAlign:"center"}},E("Region")),r.a.createElement("th",{style:{textAlign:"center"}},E("Rate")))),r.a.createElement("tbody",null,null!==n&&n.map((function(e,a){var t=e.name,n=e.abbr,s=e.rate,l=e.region;return r.a.createElement("tr",{key:a},r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement(w.a.Check,{type:"radio",checked:o===n,name:"selected-currency",id:n,"aria-label":"option 1",onChange:g})),r.a.createElement("td",{style:{textAlign:"center"}},n),r.a.createElement("td",{style:{textAlign:"left"}},t),r.a.createElement("td",{style:{textAlign:"left"}},l),r.a.createElement("td",{style:{textAlign:"right"}},p(s)))})))),r.a.createElement(me,Object.assign({},e,{pages:Math.ceil(s/i),active:l,onClick:b})))},initialValues:{curr_abbr:"",curr_title:"",curr_region:"",curr_rate:1}})},Re=function(e){var a=Object.assign({namespace:"CurrencyRegistration",request:"register currency"},e),t=a.barrelFunctions,n=t.getReviser,s=t.getWorkplace,l=t.sendRequest,i=Object(N.a)(["CurrencyRegistration"]).t,o=x.c({curr_abbr:x.d().required(i("Currency abbreviation is required")).min(3,i("Currency abbreviation is too short")).max(5,i("Currency abbreviation is too long")),curr_title:x.d().required(i("Currency name is required")).min(3,i("Currency name is too short")).max(70,i("Currency name is too long")),curr_region:x.d().required(i("Currency region is required")).min(3,i("Currency region is too short")).max(70,i("Currency region is too long")),curr_rate:x.d().required(i("Exchange rate is required")).matches(new RegExp(i("Exchange Rate Regex")),i("Wrong exchange rate format"))});return r.a.createElement(R.a,{component:function(t){var n=t.handleSubmit,s=t.handleChange,l=(t.handleBlur,t.values),o=t.touched,c=(t.isValid,t.validateForm,t.errors);return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{noValidate:!0,onSubmit:n},r.a.createElement(w.a.Group,{controlId:"validationFormikCurrAbbr"},r.a.createElement(w.a.Label,null,i("Abbreviation")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_abbr",value:l.curr_abbr,onChange:s,isInvalid:!!c.curr_abbr&&o.curr_abbr}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.curr_abbr))),r.a.createElement(w.a.Group,{controlId:"validationFormikCurrName"},r.a.createElement(w.a.Label,null,i("Currency Name")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_title",value:l.curr_title,onChange:s,isInvalid:!!c.curr_title&&o.curr_title}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.curr_title))),r.a.createElement(w.a.Group,{controlId:"validationFormikCurrRegion"},r.a.createElement(w.a.Label,null,i("Currency Region")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_region",value:l.curr_region,onChange:s,isInvalid:!!c.curr_region&&o.curr_region}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.curr_region))),r.a.createElement(w.a.Group,{controlId:"validationFormikCurrRate"},r.a.createElement(w.a.Label,null,i("Initial Exchange Rate")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_rate",value:l.curr_rate,onChange:s,isInvalid:!!c.curr_rate&&o.curr_rate}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},c.curr_rate))),r.a.createElement(M,Object.assign({},e,{caption:i("Submit"),request:a.request,namespace:a.namespace}))))},validationSchema:o,onSubmit:function(e){return console.log(e),e.reviser=n(),e.workplace=s(),l({req:a.request,data:e})},initialValues:{curr_abbr:"",curr_title:"",curr_region:"",curr_rate:1}})},xe=t(310),Le=t(299),Be=t(300),Ge=function(e,a){var t=Object(n.useRef)();Object(n.useEffect)((function(){t.current=e}),[e]),Object(n.useEffect)((function(){if(null!==a){var e=setInterval((function(){a>0&&t.current()}),a);return function(){return clearInterval(e)}}}),[a])},Ue=function(e){var a={namespace:"IdleTimer",timeout:300,timestamp:null,stage2:60,stage3:20,onTick:function(){},onTimerReset:function(){},onTimeout:function(){},events:["load","mousemove","mousedown","click","scroll","keypress"]},t=Object.assign(a,e),s=t.barrelFunctions,l=s.formatDate,o=(s.updateLastSeenUser,t.barrelEventHandlers.onSessionTimeout),c=Object(N.a)(t.namespace).t,u=Object(n.useState)(t.timeout),m=Object(i.a)(u,2),d=m[0],f=m[1],p=r.a.useState(!1),E=Object(i.a)(p,2),g=E[0],b=E[1];Ge((function(){f(d-1),t.onTick(d)}),1e3),function(e,a){var t=Object.assign({namespace:"EventListener",onTimeout:function(){},events:["load","mousemove","mousedown","click","scroll","keypress"]},{events:a});Object(n.useEffect)((function(){var a=function(a){e(a)};for(var n in t.events)window.addEventListener(t.events[n],a);return function(){for(var e in t.events)window.removeEventListener(t.events[e],a)}}),[])}((function(){f(t.timeout),t.onTimerReset()}),["mousedown","click","scroll","keypress"]),Object(n.useEffect)((function(){d===t.timeout&&b(!1),d===t.stage3&&b(!0),0===d&&o()}),[d]);return r.a.createElement(r.a.Fragment,null,function(){var a;a=d>t.stage2?Math.ceil(d/60):d;var n=l(new Date(1970,1,1,0,0,a),{minute:"numeric",second:"numeric"}),s=r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{i18nKey:"IdleTimer:Automatic logout",timeFormatted:n},r.a.createElement("div",{className:"text-center"},"Automatic logout in"),r.a.createElement("div",{className:"text-center",style:{fontSize:"4em",fontWeight:"bold",color:"#A93226"}},{timeFormatted:n}),r.a.createElement("div",{className:"text-center"},"Do you want to continue the session?")),r.a.createElement("br",null),r.a.createElement(M,Object.assign({},e,{caption:c("Continue now"),request:"continue session",onSubmit:function(){f(t.timeout),b(!1)},namespace:t.namespace})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{show:g,message:s,onHide:function(){return b(!1)}}),r.a.createElement(xe.a,{placement:"bottom",overlay:r.a.createElement(Le.a,null,d>t.stage2?r.a.createElement(j.a,{i18nKey:"IdleTimer:Minutes to automatical log out",currTime:a},"You will be automatically logged out in ",{currTime:a}," ","minutes."):r.a.createElement(j.a,{i18nKey:"IdleTimer:Seconds to automatical log out",currTime:a},"You will be automatically logged out in ",{currTime:a}," ","seconds."))},r.a.createElement("div",{style:{whiteSpace:"nowrap",cursor:"default"}},r.a.createElement(Be.a,{style:{color:"var(--dark)"}}),"\xa0",d>t.stage2?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"d-none d-sm-inline text-muted"},r.a.createElement(j.a,{i18nKey:"IdleTimer:minutes",currTime:a},{currTime:a}," minutes")),r.a.createElement("span",{className:"d-inline d-sm-none text-muted"},r.a.createElement(j.a,{i18nKey:"IdleTimer:min",currTime:a},{currTime:a}," min"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"d-none d-sm-inline text-muted"},r.a.createElement(j.a,{i18nKey:"IdleTimer:seconds",currTime:a},{currTime:a}," seconds")),r.a.createElement("span",{className:"d-inline d-sm-none text-muted"},r.a.createElement(j.a,{i18nKey:"IdleTimer:sec",currTime:a},r.a.createElement("span",null,{currTime:a})," sec"))))))}())},Ke=function(e){var a=Object.assign({namespace:"Summary"},e),t=a.barrelGetters,s=t.signedIn,l=t.accountNumber,u=t.sessionTimeout,m=a.barrelFunctions,d=m.getBusinesses,f=(m.sendRequest,a.barrelEventHandlers.onLastSeenUser,Object(N.a)(a.namespace).t);if(!1===s)return r.a.createElement(r.a.Fragment,null,"User not logged in");var p=Object(o.g)(),E=r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{fluid:!0,style:{paddingRight:"0",paddingLeft:"0"}},r.a.createElement(C.a,null,r.a.createElement(S.a,null,r.a.createElement(k.a,{style:{borderRadius:"5px",backgroundColor:"var(--light)",boxShadow:"none"}},r.a.createElement(k.a.Brand,{href:"/"},r.a.createElement("img",{src:"gfx/zlogo_light.png",width:"auto",height:"30",className:"d-inline-block align-top",alt:f("Logo")})),r.a.createElement(I.a,{className:"mr-auto"},r.a.createElement(I.a.Link,{eventKey:"profile",href:"/profile"},r.a.createElement(De,e))),r.a.createElement(I.a,null,r.a.createElement(I.a.Link,{eventKey:"sign-out",href:"/sign-out"},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},r.a.createElement("span",null,r.a.createElement(P.a,{style:{color:"var(--dark)"}})),r.a.createElement("span",{className:"d-none d-sm-inline"},"\xa0",f("Sign out"))))),r.a.createElement(I.a,null,r.a.createElement(I.a.Item,null,r.a.createElement(Ue,Object.assign({timeout:u},e))))))),r.a.createElement(C.a,null,r.a.createElement(S.a,null,r.a.createElement("div",{style:{height:"7px"}}),r.a.createElement(k.a,{collapseOnSelect:!0,expand:"sm",variant:"dark",style:{borderRadius:"5px",background:"transparent !important",backgroundColor:"var(--dark)",boxShadow:"none"}},r.a.createElement(I.a,null,r.a.createElement(I.a.Link,{className:"nav-link-2",eventKey:"balance",href:"/balance",style:{fontWeight:"/balance"===p.pathname?"bold":"normal"}},f("Balance"))),r.a.createElement(k.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(k.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(I.a,{className:"mr-auto"},null!==l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a.Link,{className:"nav-link-2",eventKey:"transfer",href:"/transfer",style:{fontWeight:"/transfer"===p.pathname?"bold":"normal"}},f("Transfer")),r.a.createElement(I.a.Link,{className:"nav-link-2",eventKey:"my-business",onClick:function(){return d(1)},href:"#",style:{fontWeight:"/my-business"===p.pathname?"bold":"normal"}},f("Business")),r.a.createElement(I.a.Link,{className:"nav-link-2",eventKey:"currency",href:"/currency",style:{fontWeight:"/currency"===p.pathname?"bold":"normal"}},f("Currency")))))))))),g=r.a.createElement(c.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:function(){return null!==l?be(e):ne(e)}}),r.a.createElement(o.b,{exact:!0,path:"/summary",component:function(){return null!==l?be(e):ne(e)}}),r.a.createElement(o.b,{exact:!0,path:"/account-registration",component:function(){return ne(e)}}),r.a.createElement(o.b,{exact:!0,path:"/profile",component:function(){return De(Object(h.a)({},e,{mode:"profile"}))}}),r.a.createElement(o.b,{exact:!0,path:"/currency",component:function(){return function(e){var a=Object.assign({namespace:"CurrencyContainer"},e),t=a.barrelGetters,n=t.accordionViewCurrency,s=t.activePageCurrencies,l=t.accountNumber,i=a.barrelSetters,o=i.setAccordionViewCurrency,c=i.setRedirectTo,u=a.barrelFunctions.getCurrencies,m=Object(N.a)([a.namespace]).t;return null===l&&c("/sign-out"),r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{defaultActiveKey:n},r.a.createElement(_.a,null,r.a.createElement(re.a.Toggle,{as:_.a.Header,eventKey:"currencies",style:{cursor:"pointer"},onClick:function(){o("currencies"),u(s)}},m("Currencies")),r.a.createElement(re.a.Collapse,{eventKey:"currencies"},r.a.createElement(_.a.Body,null,r.a.createElement(qe,e)))),r.a.createElement(_.a,null,r.a.createElement(re.a.Toggle,{as:_.a.Header,eventKey:"currencyRegistration",style:{cursor:"pointer"},onClick:function(){o("currencyRegistration")}},m("Currency Registration")),r.a.createElement(re.a.Collapse,{eventKey:"currencyRegistration"},r.a.createElement(_.a.Body,null,r.a.createElement(Re,e))))))}(Object(h.a)({},e))}}),r.a.createElement(o.b,{exact:!0,path:"/my-business",component:function(){return Pe(e)}}),r.a.createElement(o.b,{exact:!0,path:"/balance",component:function(){return be(e)}}),r.a.createElement(o.b,{exact:!0,path:"/transfer",component:function(){return function(e){var a=Object.assign({},e),t=a.barrelGetters,s=t.accountNumber,l=t.transferType,o=a.barrelSetters.setRedirectTo,c=a.barrelFunctions.format,u=a.barrelEventHandlers.onTransferTypeChange,m=Object(N.a)("Transfer").t,d=a.data,f=l,p=Object(n.useState)(null),E=Object(i.a)(p,2),g=E[0],b=E[1],v=function(e){u(e)},h=[{name:m("U2S"),link:"#u2s"},{name:m("U2U"),link:"#u2u"},{name:m("U2B"),link:"#u2b"}];return Object(n.useEffect)((function(){if(null!==f)switch(f){case"#u2s":b(r.a.createElement(ve,{title:m("Transfer to account"),args:a,navigation:h,navigationdefaultActiveKey:f,onNavigationClick:v}));break;case"#u2u":b(r.a.createElement(he,{title:m("Transfer to account"),args:a,navigation:h,navigationdefaultActiveKey:f,onNavigationClick:v}));break;case"#u2b":b(r.a.createElement(Oe,{title:m("Transfer to account"),args:a,navigation:h,navigationdefaultActiveKey:f,onNavigationClick:v}))}}),[d,c,f]),null===s&&o("/sign-out"),r.a.createElement(r.a.Fragment,null,g)}(e)}})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{fluid:"md"},r.a.createElement(C.a,null,r.a.createElement(S.a,null,E,r.a.createElement("div",{style:{height:"7px"}}))),r.a.createElement(C.a,null,r.a.createElement(S.a,null,g))))},Ve={uri:{ENDPOINT:"http://localhost:9000"}};switch(window&&window.location&&window.location.hostname){case"localhost":b=Ve;break;case"192.168.2.100":b={uri:{ENDPOINT:"http://192.168.2.100:5000"}};break;case"dev.zime.lv":b={uri:{ENDPOINT:"https://dev.zime.lv"}};break;case"zime.lv":b={uri:{ENDPOINT:"https://zime.lv"}};break;default:b=Ve}var ze=Object(h.a)({},b),He=t(190),We=t.n(He).a.connect(ze.uri.ENDPOINT,{secure:!0,reconnect:!0}),Me=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a&&console.log("request: ".concat(e.req),e),We.emit("onDataReceived",e),!0},Je=function(e){var a=Object.assign({},e).barrelFunctions,t=a.getReviser,n=a.getWorkplace,s=a.sendRequest,l=Object(N.a)("LogIn").t,i=x.c({email:x.d().email(l("Invalid email address")).required(l("Email is required")),password:x.d().required(l("No password provided"))});return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{component:function(a){var t=a.handleSubmit,n=a.handleChange,s=(a.handleBlur,a.values),i=a.touched,o=(a.isValid,a.validateForm,a.errors);return r.a.createElement(w.a,{noValidate:!0,onSubmit:t},r.a.createElement("h3",null,l("Sign In")),r.a.createElement(w.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(w.a.Label,null,l("Email address")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{placeholder:l("Enter email"),name:"email",value:s.email,onChange:n,isInvalid:!!o.email&&i.email}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.email))),r.a.createElement(w.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(w.a.Label,null,l("Password")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"password",placeholder:l("Enter password"),name:"password",value:s.password,onChange:n,isInvalid:!!o.password&&i.password}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.password))),r.a.createElement(w.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(M,Object.assign({},e,{caption:l("Submit"),request:"sign in user",namespace:"LogIn"}))),r.a.createElement(T.a,{fluid:"md"},r.a.createElement(C.a,null,r.a.createElement(S.a,null,r.a.createElement("p",{className:"other-options text-left"},r.a.createElement(j.a,{i18nKey:"LogIn:Not yet registered"},"Not yet ",r.a.createElement("a",{href:"/sign-up"},"registered?")))),r.a.createElement(S.a,null,r.a.createElement("p",{className:"other-options text-right"},r.a.createElement(j.a,{i18nKey:"LogIn:Forgot password"},"Forgot ",r.a.createElement("a",{href:"/reset"},"password?")))))))},validationSchema:i,onSubmit:function(e){!function(e){e.reviser=t(),e.workplace=n(),s({req:"sign in user",data:e})}(e)},initialValues:{email:"",password:"",rememberMe:""}}))},Xe=function(e){var a=Object.assign({request:"register user",namespace:"SignUp"},e),t=a.barrelGetters.language,s=a.barrelFunctions,l=s.getReviser,o=s.getWorkplace,c=s.sendRequest,u=Object(n.useState)(!1),m=Object(i.a)(u,2),d=m[0],f=m[1],p=Object(N.a)(a.namespace).t,E=x.c({firstName:x.d().required(p("First name is required")),lastName:x.d().required(p("Last name is required")),email:x.d().email(p("Invalid email address")).required(p("Email is required")),password:x.d().required(p("No password provided")).min(8,p("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,p("Password is too weak"))}),g=function(){f(!d)};return r.a.createElement(R.a,{component:function(t){var n=t.handleSubmit,s=t.handleChange,l=(t.handleBlur,t.values),i=t.touched,o=(t.isValid,t.validateForm,t.errors);return r.a.createElement(w.a,{noValidate:!0,onSubmit:n},r.a.createElement("h3",null,p("Sign Up")),r.a.createElement(w.a.Group,{controlId:"validationFormikFirstName"},r.a.createElement(w.a.Label,null,p("First name")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:p("Enter first name"),name:"firstName",value:l.firstName,onChange:s,isInvalid:!!o.firstName&&i.firstName}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.firstName))),r.a.createElement(w.a.Group,{controlId:"validationFormikLastName"},r.a.createElement(w.a.Label,null,p("Last name")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:"text",placeholder:p("Enter last name"),name:"lastName",value:l.lastName,onChange:s,isInvalid:!!o.lastName&&i.lastName}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.lastName))),r.a.createElement(w.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(w.a.Label,null,p("Email address")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{placeholder:p("Enter email"),name:"email",value:l.email,onChange:s,isInvalid:!!o.email&&i.email}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.email))),r.a.createElement(w.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(w.a.Label,null,p("Password")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:d?"text":"password",placeholder:p("Enter password"),name:"password",value:l.password,onChange:s,isInvalid:!!o.password&&i.password}),r.a.createElement(F.a.Append,null,r.a.createElement(F.a.Text,{id:"inputGroupAppend",onClick:g,style:{cursor:"pointer"}},d?r.a.createElement(Fe.a,{fontSize:"small",style:{color:"var(--dark)"}}):r.a.createElement(Ae.a,{fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.password))),r.a.createElement(w.a.Group,{controlId:"validationSubmitButton"},r.a.createElement(M,Object.assign({},e,{caption:p("Submit"),request:a.request,namespace:a.namespace}))),r.a.createElement("p",{className:"other-options text-right"},r.a.createElement(j.a,{i18nKey:"SignUp:Already registered"},"Already registered ",r.a.createElement("a",{href:"/sign-in"},"sign in?"))))},validationSchema:E,onSubmit:function(e){!function(e){null!==e&&(e.reviser=l(),e.workplace=o(),e.language=t,e.validateEmail=!0,c({req:a.request,data:e}))}(e)},initialValues:{firstName:"",lastName:"",email:"",password:""}})},Ye=t(37),Ze=function(e){var a=Object.assign({},e.data),t=a.barrelGetters,n=t.error,s=t.info,l=a.barrelEventHandlers.onAlertClose;if(null!==n){var i=Object(N.a)("Errors").t;return r.a.createElement(A.a,{variant:"danger",onClose:function(){return l()},dismissible:!0},i(n))}if(null!==s){var o=Object(N.a)("Infos").t;return r.a.createElement(A.a,{variant:"info",onClose:function(){return l()},dismissible:!0},o(s))}return r.a.createElement(r.a.Fragment,null)},$e=function(e){var a=Object.assign({namespace:"CurrencyContainer"},e),t=a.barrelGetters.userData,n=a.barrelFunctions.sendRequest,s=(Object(N.a)("LanguageSelector").t,function(e){v.changeLanguage(e)}),l=function(e){s(e),null!==t&&n({req:"register user language",data:{email:t.email,language:e}})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"7px"}}),r.a.createElement(se.a,{pill:!0,variant:"light",style:{cursor:"pointer"},onClick:function(){l("lv")}},"lv")," ",r.a.createElement(se.a,{pill:!0,variant:"light",style:{cursor:"pointer"},onClick:function(){l("en")}},"en"))},Qe=function(){var e="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,a=Object(n.useState)(e),t=Object(i.a)(a,2),s=t[0],l=t[1],m=Object(n.useState)(!1),f=Object(i.a)(m,2),p=f[0],E=f[1],g=Object(n.useState)(!0),b=Object(i.a)(g,2),h=b[0],O=b[1],y=ae(null,"request"),T=Object(i.a)(y,2),C=T[0],S=T[1],k=Object(n.useState)(Date.now()),I=Object(i.a)(k,2),P=I[0],j=I[1],A=ae(Object(u.a)(),"session"),D=Object(i.a)(A,2),_=D[0],q=D[1],L=ae(300,"sessionTimeout"),B=Object(i.a)(L,2),G=B[0],U=B[1],K=ae(!1,"connected"),V=Object(i.a)(K,2),z=V[0],H=V[1],J=ae(!1,"signedIn"),X=Object(i.a)(J,2),Y=X[0],Z=X[1],$=ae(-1,"updateInterval"),Q=Object(i.a)($,2),ee=Q[0],te=Q[1],ne=ae("Z","currencyAbbr"),re=Object(i.a)(ne,2),se=re[0],le=re[1],ie=Object(n.useState)(1,"currencyRate"),oe=Object(i.a)(ie,2),ce=oe[0],ue=oe[1],me=ae(null,"currencies"),de=Object(i.a)(me,2),fe=de[0],pe=de[1],Ee=ae(null,"transactions"),ge=Object(i.a)(Ee,2),be=ge[0],ve=ge[1],he=ae(null,"shares"),Oe=Object(i.a)(he,2),ye=Oe[0],Ne=Oe[1],Te=ae("balance","accordionView"),Ce=Object(i.a)(Te,2),Se=Ce[0],ke=Ce[1],Ie=ae(null,"accordionViewCurrency"),Pe=Object(i.a)(Ie,2),je=Pe[0],we=Pe[1],De=ae(null,"countCurrencies"),_e=Object(i.a)(De,2),qe=_e[0],Re=_e[1],xe=ae(null,"countTransactions"),Le=Object(i.a)(xe,2),Be=Le[0],Ue=Le[1],Ve=ae(null,"countShares"),ze=Object(i.a)(Ve,2),He=ze[0],Qe=ze[1],ea=ae(1,"activePageCurrencies"),aa=Object(i.a)(ea,2),ta=aa[0],na=aa[1],ra=ae(1,"activePageTransactions"),sa=Object(i.a)(ra,2),la=sa[0],ia=sa[1],oa=ae(1,"activePageShares"),ca=Object(i.a)(oa,2),ua=ca[0],ma=ca[1],da=ae(5,"currenciesPerPage"),fa=Object(i.a)(da,2),pa=fa[0],Ea=fa[1],ga=ae(5,"transactionsPerPage"),ba=Object(i.a)(ga,2),va=ba[0],ha=ba[1],Oa=ae(5,"sharesPerPage"),ya=Object(i.a)(Oa,2),Na=ya[0],Ta=ya[1],Ca=ae(null,"userData"),Sa=Object(i.a)(Ca,2),ka=Sa[0],Ia=Sa[1],Pa=ae(null,"uid"),ja=Object(i.a)(Pa,2),wa=ja[0],Fa=ja[1],Aa=ae(null,"accountNumber"),Da=Object(i.a)(Aa,2),_a=Da[0],qa=Da[1],Ra=ae(null,"userSequence"),xa=Object(i.a)(Ra,2),La=xa[0],Ba=xa[1],Ga=ae(null,"accountType"),Ua=Object(i.a)(Ga,2),Ka=Ua[0],Va=Ua[1],za=ae(null,"userBusinesses"),Ha=Object(i.a)(za,2),Wa=Ha[0],Ma=Ha[1],Ja=ae(null,"countBusinesses"),Xa=Object(i.a)(Ja,2),Ya=Xa[0],Za=Xa[1],$a=ae(1,"businessesPerPage"),Qa=Object(i.a)($a,2),et=Qa[0],at=Qa[1],tt=ae(1,"activePageBusinesses"),nt=Object(i.a)(tt,2),rt=nt[0],st=nt[1],lt=ae(!1,"userBusinessesLoaded"),it=Object(i.a)(lt,2),ot=it[0],ct=it[1],ut=ae(null,"activeBusiness"),mt=Object(i.a)(ut,2),dt=mt[0],ft=mt[1],pt=ae(null,"activeBusinessID"),Et=Object(i.a)(pt,2),gt=Et[0],bt=Et[1],vt=ae(null,"businessPurposes"),ht=Object(i.a)(vt,2),Ot=ht[0],yt=ht[1],Nt=ae(null,"countBusinessPurposes"),Tt=Object(i.a)(Nt,2),Ct=Tt[0],St=Tt[1],kt=ae(5,"businessPurposesPerPage"),It=Object(i.a)(kt,2),Pt=It[0],jt=It[1],wt=ae(1,"activePageBusinessPurposes"),Ft=Object(i.a)(wt,2),At=Ft[0],Dt=Ft[1],_t=ae(null,"activeBusinesPurpose"),qt=Object(i.a)(_t,2),Rt=qt[0],xt=qt[1],Lt=ae(null,"purposeShareholders"),Bt=Object(i.a)(Lt,2),Gt=Bt[0],Ut=Bt[1],Kt=Object(n.useState)(null),Vt=Object(i.a)(Kt,2),zt=Vt[0],Ht=Vt[1],Wt=Object(n.useState)(null),Mt=Object(i.a)(Wt,2),Jt=Mt[0],Xt=Mt[1],Yt=Object(n.useState)(null),Zt=Object(i.a)(Yt,2),$t=Zt[0],Qt=Zt[1],en=Object(n.useState)(null),an=Object(i.a)(en,2),tn=an[0],nn=an[1],rn=Object(n.useState)(null),sn=Object(i.a)(rn,2),ln=sn[0],on=sn[1],cn=Object(n.useState)(null),un=Object(i.a)(cn,2),mn=un[0],dn=un[1],fn=Object(n.useState)(null),pn=Object(i.a)(fn,1)[0],En=ae(null,"validationTokenEmail"),gn=Object(i.a)(En,2),bn=gn[0],vn=gn[1],hn=ae(0,"validationTokenEmailResent"),On=Object(i.a)(hn,2),yn=On[0],Nn=On[1],Tn=ae(v.options.fallbackLng[0],"language"),Cn=Object(i.a)(Tn,2),Sn=Cn[0],kn=Cn[1],In=ae("#u2s","transferType"),Pn=Object(i.a)(In,2),jn=Pn[0],wn=Pn[1],Fn=Object(n.useState)(""),An=Object(i.a)(Fn,2),Dn=An[0],_n=An[1],qn=Object(n.useState)(null),Rn=Object(i.a)(qn,2),xn=Rn[0],Ln=Rn[1],Bn=Object(n.useState)(null),Gn=Object(i.a)(Bn,2),Un=Gn[0],Kn=Gn[1],Vn={debug:s,loggingOut:p,pageLoading:h,request:C,instance:P,session:_,sessionTimeout:G,updateInterval:ee,currencies:JSON.parse(fe),transactions:JSON.parse(be),shares:JSON.parse(ye),accordionView:Se,accordionViewCurrency:je,countCurrencies:qe,countTransactions:Be,countShares:He,activePageCurrencies:ta,activePageTransactions:la,activePageShares:ua,currenciesPerPage:pa,transactionsPerPage:va,sharesPerPage:Na,userData:JSON.parse(ka),redirectTo:zt,lastInsertId:Jt,connected:z,signedIn:Y,currencyAbbr:se,currencyRate:ce,accountNumber:_a,userSequence:La,accountType:Ka,uid:wa,userBusinesses:JSON.parse(Wa),countBusinesses:Ya,businessesPerPage:et,activePageBusinesses:rt,userBusinessesLoaded:ot,activeBusiness:dt,activeBusinessID:gt,businessPurposes:JSON.parse(Ot),countBusinessPurposes:Ct,businessPurposesPerPage:Pt,activePageBusinessPurposes:At,activeBusinesPurpose:Rt,purposeShareholders:JSON.parse(Gt),tmrConnected:pn,validateTokenEmail:$t,validateTokenPasswordReset:tn,passwordResetTokenValidated:ln,passwordResetTokenEmail:mn,validationTokenEmail:bn,validationTokenEmailResent:yn,language:Sn,transferType:jn,accountPhotoPath:Dn,error:xn,info:Un},zn={setDebug:l,setLoggingOut:E,setPageLoading:O,setRequest:S,setInstance:j,setSession:q,setSessionTimeout:U,setUpdateInterval:te,setCurrencies:pe,setTransactions:ve,setShares:Ne,setAccordionView:ke,setAccordionViewCurrency:we,setCountCurrencies:Re,setCountTransactions:Ue,setCountShares:Qe,setActivePageCurrencies:na,setActivePageTransactions:ia,setActivePageShares:ma,setCurrenciesPerPage:Ea,setTransactionsPerPage:ha,setSharesPerPage:Ta,setConnected:H,setLanguage:kn,setUserData:Ia,setSignedIn:Z,setCurrencyAbbr:le,setCurrencyRate:ue,setRedirectTo:Ht,setLastInsertId:Xt,setAccountNumber:qa,setUserSequence:Ba,setAccountType:Va,setUID:Fa,setUserBusinesses:Ma,setCountBusinesses:Za,setBusinessesPerPage:at,setActivePageBusinesses:st,setUserBusinessesLoaded:ct,setActiveBusiness:ft,setActiveBusinessID:bt,setBusinessPurposes:yt,setCountBusinessPurposes:St,setBusinessPurposesPerPage:jt,setActivePageBusinessPurposes:Dt,setActiveBusinesPurpose:xt,setPurposeShareholders:Ut,setAccountPhotoPath:_n,setValidateTokenEmail:Qt,setValidateTokenPasswordReset:nn,setPasswordResetTokenValidated:on,setPasswordResetTokenEmail:dn,setValidationTokenEmail:vn,setValidationTokenEmailResent:Nn};!function(e){var a=Object(n.useState)(null),t=Object(i.a)(a,2),r=t[0],s=t[1];We.on("onDataReceived",(function(e){s(e)})),Object(n.useEffect)((function(){null!==r&&e(r)}),[r])}((function(e){Mn({args:e,barrels:rr})}));var Hn=function(e){var a=e.req,t=e.data,n=void 0===t?null:t;return!!Wn({req:a,data:n,session:_,uid:"STA",barrels:rr})||(console.log("THIS SHOULD NOT BE REACHED"),Me({req:a,uid:"STA",session:_,data:n},s))},Wn=function(e){var a=e.req,t=e.data,n=e.session,r=e.uid,s=e.barrels;return t.instance=P,"update last seen user"!==a&&S(a),function(e){var a=Object.assign({},e),t=a.req,n=a.data,r=a.session,s=a.uid,l=a.barrels,i=l.barrelGetters,o=i.debug,c=i.userData,u=i.userSequence,m=l.barrelSetters,d=m.setUserData,f=m.setUID,p=(m.setAccountNumber,l.barrelFunctions.updateLastSeenUser,!1),E=function(e,t){p||e!==a.req&&"default"!==e||(t(),p=!0)};return E("sign in user",(function(){d(JSON.stringify(n)),Me({req:t,data:n,uid:s,session:r},o)})),E("get user sequence",(function(){var e=new Date(n.birthDate),a=e.getFullYear().toString(),l=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0");n.birthDate="".concat(a,"-").concat(l,"-").concat(i),Me({req:t,data:n,uid:s,session:r},o)})),E("register account",(function(){var e=new Date(n.birthDate),a=e.getFullYear().toString(),l=a.slice(-2),i=(e.getMonth()+1).toString().padStart(2,"0"),m=e.getDate().toString().padStart(2,"0"),d="".concat(m).concat(i).concat(l),p=n.timezone.slice(0,2),E=c.lastname.slice(0,1).toUpperCase(),g=E.charCodeAt(0).toString().padStart(5,"0");n.scode="".concat(p).concat(d).concat(E),n.tcode="".concat(p).concat(d).concat(g),n.timezone=n.timezone.slice(5),n.sequence=u.toString().padStart(5,"0"),n.birthDate="".concat(a,"-").concat(i,"-").concat(m),f(n.personalID),Me({req:t,data:n,uid:s,session:r},o)})),E("default",(function(){return Me({req:t,data:n,uid:s,session:r},o),!0})),p}({req:a,data:t,session:n,uid:r,barrels:s})},Mn=function(e){var a=e.args,t=e.barrels;return"error"===a.status?function(e){var a=e.args,t=e.barrels,n=Object.assign({},a),r=t.barrelGetters.debug,s=t.barrelSetters,l=s.setRequest,o=s.setUID,c=s.setAccountNumber,u=t.barrelFunctions.showMessage,m=n.req,d=n.error,f=n.context;r&&console.log("ERROR: ".concat(m),d,f,n,t);var p=!1,E=function(e,a){if(!p){var t=Object(i.a)(e,2),n=t[0],r=t[1];return(n===m&&r===d.code||"*"===n||"unknown"===n)&&(a(),l(null),p=!0,!0)}};return E(["transfer U2S","NO_ROWS_CHANGED"],(function(){return u("INVALID_TRANSFER","error"),!0})),E(["transfer U2U","NO_ROWS_CHANGED"],(function(){return u("INVALID_TRANSFER","error"),!0})),E(["transfer U2B","NO_ROWS_CHANGED"],(function(){return u("INVALID_TRANSFER","error"),!0})),E(["register user","NO_ROWS_CHANGED"],(function(){return u("INVALID_USER_REGISTRATION","error"),!0})),E(["register user language","NO_ROWS_CHANGED"],(function(){return!0})),E(["validate email token","NO_ROWS_CHANGED"],(function(){return u("TOKEN_VALIDATION_FAILED","error"),!0})),E(["validate password reset token","NO_ROWS_CHANGED"],(function(){return u("TOKEN_VALIDATION_FAILED","error"),!0})),E(["reset password","NO_ROWS_CHANGED"],(function(){return!0})),E(["register user language","NO_ROWS_CHANGED"],(function(){return!0})),E(["update user","NO_ROWS_CHANGED"],(function(){return!0})),E(["update last seen user","NO_ROWS_CHANGED"],(function(){return!0})),E(["sign in user","NO_ROWS_CHANGED"],(function(){return u("USER_NOT_FOUND","error"),!0})),E(["change password","NO_ROWS_CHANGED"],(function(){return u("SAME_PASSWORD_RESET","info"),!0})),E(["register account","ER_DUP_ENTRY"],(function(){return o(null),c(null),u("DUPLICATE_ACCOUNT_REGISTRATION","error"),!0})),E(["register account","ER_FOREIGN_DUPLICATE_KEY_WITH_CHILD_INFO"],(function(){return o(null),c(null),u("DUPLICATE_ACCOUNT_REGISTRATION","error"),!0})),E(["register shareholder","ER_NO_REFERENCED_ROW_2"],(function(){return u("USER_NOT_FOUND","error"),!0})),E(["*","ER_CANT_CREATE_THREAD"],(function(){return u("NO_RESPONSE_FROM_SERVER","error"),!0})),E(["unknown"],(function(){return u(d.code,"error"),!0})),!1}({args:a,uid:wa,barrels:t}):function(e){var a=e.args,t=e.barrels,n=Object.assign({},a),r=t.barrelGetters,s=r.debug,l=r.sessionTimeout,o=r.instance,c=r.currencies,u=r.transactions,m=r.shares,d=r.userData,f=r.accountNumber,p=r.userBusinesses,E=r.businessPurposes,g=r.purposeShareholders,b=r.activeBusinesPurpose,v=r.lastInsertId,h=t.barrelSetters,O=h.setRequest,y=h.setSession,N=h.setUpdateInterval,T=h.setCurrencies,C=h.setTransactions,S=h.setShares,k=h.setCountCurrencies,I=h.setCountTransactions,P=h.setCountShares,j=h.setConnected,w=h.setUserData,F=h.setSignedIn,A=h.setCurrencyAbbr,D=h.setCurrencyRate,_=h.setRedirectTo,q=h.setLastInsertId,R=h.setAccountNumber,x=h.setUserSequence,L=h.setUID,B=h.setUserBusinesses,G=h.setCountBusinesses,U=h.setUserBusinessesLoaded,K=h.setBusinessPurposes,V=h.setCountBusinessPurposes,z=h.setPurposeShareholders,H=h.setAccountPhotoPath,W=h.setPasswordResetTokenValidated,M=h.setPasswordResetTokenEmail,J=h.setValidateTokenEmail,X=h.setValidationTokenEmail,Y=h.setValidationTokenEmailResent,Z=t.barrelFunctions,$=Z.sendRequest,Q=(Z.getBusinesses,Z.getAccountData),ee=Z.getTransactionById,ae=Z.getBusinessPurposes,te=Z.getPurposeShareholders,ne=Z.showMessage,re=Z.changeLanguage,se=(Z.updateLastSeenUser,t.barrelEventHandlers),le=se.onRedirect,ie=se.onSessionTimeout,oe=n.req;s&&console.log("response: ".concat(oe),n,t);var ce=!1,ue=function(e,a){if(!ce){var t=Object(i.a)(e,2),r=t[0],s=t[1];(o===n.reqData.instance&&r===n.req&&s===n.status||"unknown"===r)&&(a()&&O(null),ce=!0)}};return ue(["start session","success"],(function(){return j(!0),!0})),ue(["end session","success"],(function(){return j(!1),!0})),ue(["get user sequence","continue"],(function(){if("SELECT FROM users"===n.name)return x(n.results.sequence),!1})),ue(["get user sequence","success"],(function(){$({req:"register account",data:n.reqData})})),ue(["register user","pending"],(function(){return!1})),ue(["register user","continue"],(function(){return"INSERT INTO users"===n.name?!(n.results.insertId>0):("INSERT INTO validation_tokens"===n.name&&X({token:n.tags.token,email:n.tags.email}),!1)})),ue(["register user","success"],(function(){return le("/validate-email"),!0})),ue(["resend validate email token","continue"],(function(){if("SELECT validation_tokens"===n.name)return Y(n.results.resent),!1})),ue(["resend validate email token","success"],(function(){return!0})),ue(["validate email token","continue"],(function(){return"UPDATE validation tokens"===n.name?!(n.results.affectedRows>0):"UPDATE users"===n.name&&(!(n.results.affectedRows>0)||(le("/sign-in"),!0))})),ue(["validate email token","success"],(function(){return J(null),!0})),ue(["validate password reset token","success"],(function(){return W(!0),!0})),ue(["sign in user","continue"],(function(){if("SELECT users"===n.name){if(1===n.results.status)return w(JSON.stringify(n.results)),R(n.results.uid),y(n.results.email),A(n.results.currency_abbr),D(isNaN(n.results.currency_rate)?1:n.results.currency_rate),re(n.results.language),F(!0),le(null!==n.results.uid?"/summary":"/account-registration"),!1;if(0===n.results.status)return le("/validate-email"),!0;if(2===n.results.status)return _("/sign-out"),ne("ACCOUNT_SUSPENDED","error"),!0;if(3===n.results.status)return _("/sign-out"),ne("ACCOUNT_DELETED","error"),!0}})),ue(["sign in user","finished"],(function(){if("SELECT users"===n.name)return n.queryCnt>0||(ne("INVALID_SIGN_IN","error"),_("/sign-out")),!0})),ue(["sign in user","success"],(function(){return!0})),ue(["update user","success"],(function(){return $({req:"get user",data:{email:d.email}}),!1})),ue(["get user","continue"],(function(){return"SELECT users"!==n.name||(w(JSON.stringify(n.results)),L(n.results.uid),R(n.results.uid),null===f&&null!==n.results.uid&&_("/summary"),!1)})),ue(["get user","finished"],(function(){return"SELECT users"===n.name?1!==n.queryCnt&&(0!==n.queryCnt||(_("/sign-out"),!0)):(1===n.rowNum||_("/sign-out"),!0)})),ue(["get user","success"],(function(){return!0})),ue(["get user businesses","continue"],(function(){if("SELECT businesses"===n.name){var e=n.results,a=e.business_id;null===p?(B(JSON.stringify([e])),ae(a,0,1)):B(JSON.stringify([].concat(Object(Ye.a)(p),[e])))}else"COUNT businesses"===n.name&&G(n.results.count_businesses);return!1})),ue(["get user businesses","finished"],(function(){return U(!0),_("/my-business"),!1})),ue(["get user businesses","success"],(function(){return!0})),ue(["get business purposes","continue"],(function(){return"SELECT purposes"===n.name?K(null===E?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Ye.a)(E),[n.results]))):"COUNT purposes"===n.name&&V(n.results.count_purposes),!1})),ue(["get business purposes","finished"],(function(){return!0})),ue(["get purpose shareholders","continue"],(function(){return"SELECT shares"===n.name&&z(null===g?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Ye.a)(g),[n.results]))),!1})),ue(["get purpose shareholders","finished"],(function(){return!0})),ue(["get business by id","continue"],(function(){return"SELECT businesses"===n.name&&B(null===p?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Ye.a)(p),[n.results]))),!1})),ue(["get business by id","finished"],(function(){return!(n.queryCnt>0)&&(console.log("Error getting business by id"),!0)})),ue(["get business by id","success"],(function(){return!0})),ue(["get purpose by id","continue"],(function(){return"SELECT purposes"===n.name&&K(null===E?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Ye.a)(E),[n.results]))),!1})),ue(["get purpose by id","finished"],(function(){return n.queryCnt<1})),ue(["get purpose by id","success"],(function(){return!0})),ue(["get shareholder by id","continue"],(function(){return z(null===g?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Ye.a)(g),[n.results]))),!1})),ue(["get shareholder by id","finished"],(function(){return!0})),ue(["upload file","continue"],(function(){return H(Date.now()),!1})),ue(["upload file","finished"],(function(){return"SELECT 1"!==n.name||0===n.queryCnt})),ue(["upload file","success"],(function(){return!0})),ue(["register account","continue"],(function(){return n.results.affectedRows<1&&(L(null),R(null),ne("INVALID_DATA","error"),!0)})),ue(["register account","success"],(function(){return $({req:"get user",data:{email:n.email}}),!1})),ue(["get account data","continue"],(function(){"SELECT users"===n.name&&(L(n.results.uid),w(JSON.stringify(n.results)))})),ue(["get account data","finished"],(function(){return"SELECT users"!==n.name||0!==n.queryCnt||(_("/sign-out"),!0)})),ue(["get account data","success"],(function(){if(null===d)return!0;d.seconds_since_last_seen>=l?(N(-1),ie()):N(6e4)})),ue(["transfer U2S","pending"],(function(){return!1})),ue(["transfer U2S","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(q(n.results.insertId),!1))})),ue(["transfer U2S","success"],(function(){return ee(v),!1})),ue(["transfer U2U","pending"],(function(){return!1})),ue(["transfer U2U","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(q(n.results.insertId),!1))})),ue(["transfer U2U","success"],(function(){return ee(v),!1})),ue(["transfer U2B","pending"],(function(){return!1})),ue(["transfer U2B","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(q(n.results.insertId),!1))})),ue(["transfer U2B","success"],(function(){return ee(v),!1})),ue(["register business","continue"],(function(){if("INSERT INTO businesses"===n.name)return!(n.results.insertId>0)||(q(n.results.insertId),!1)})),ue(["register business","success"],(function(){return $({req:"get business by id",data:{id:v}}),!1})),ue(["register currency","continue"],(function(){return!(n.results.insertId>0)||(q(n.results.insertId),!1)})),ue(["register currency","success"],(function(){return $({req:"get currency by id",data:{id:v}}),!1})),ue(["get currencies","continue"],(function(){return"SELECT currencies"===n.name?T(null===c?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Ye.a)(c),[n.results]))):"COUNT currencies"===n.name&&k(n.results.count_currencies),!1})),ue(["get currencies","finished"],(function(){return _("/currency"),!0})),ue(["get currency by id","continue"],(function(){return"SELECT currencies"===n.name&&T(null===c?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Ye.a)(c),[n.results]))),!1})),ue(["get currency by id","finished"],(function(){return!0})),ue(["get transactions","continue"],(function(){return"SELECT transactions"===n.name?C(null===u?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Ye.a)(u),[n.results]))):"COUNT transactions"===n.name&&I(n.results.count_transaction_positions),!1})),ue(["get transactions","finished"],(function(){return _("/balance"),!0})),ue(["get shares","continue"],(function(){return"SELECT shares"===n.name?S(null===m?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Ye.a)(m),[n.results]))):"COUNT shares"===n.name&&P(n.results.count_shares),!1})),ue(["get shares","finished"],(function(){return!0})),ue(["get transaction by id","continue"],(function(){return C(null===u?JSON.stringify([n.results]):JSON.stringify([].concat(Object(Ye.a)(u),[n.results]))),!1})),ue(["get transaction by id","finished"],(function(){return Q(),!1})),ue(["register purpose","continue"],(function(){if("INSERT INTO purposes"===n.name)return!(n.results.insertId>0)||(q(n.results.insertId),!1)})),ue(["register purpose","success"],(function(){return $({req:"get purpose by id",data:{id:v}}),!1})),ue(["register shareholder","continue"],(function(){if(!(n.results.insertId>0))return!0;q(n.results.insertId)})),ue(["register shareholder","success"],(function(){return te(b),!1})),ue(["change share","success"],(function(){return!0})),ue(["remove shareholder","success"],(function(){return te(b),!1})),ue(["reset password","success"],(function(){return W(!1),!0})),ue(["change password","success"],(function(){return W(null),M(null),le("/sign-in"),ne("PASSWORD_CHANGE_SUCCESS","info"),!0})),ue(["unknown"],(function(){return!1})),ce}({args:a,uid:wa,barrels:t})},Jn=function(){Ln(null),Kn(null)},Xn=function(e){var a=e.token,t=e.email;Hn({req:"validate email token",data:{token:a,email:t}})},Yn=function(){null!==_a&&Hn({req:"get account data",data:{uid:_a}})},Zn=function(){var e={email:Vn.userData.email};return Hn({req:"update last seen user",data:e})},$n={sendRequest:Hn,showMessage:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";"error"===a?Ln(e):Kn(e)},hideMessage:Jn,changeLanguage:function(e){v.changeLanguage(e),kn(e)},format:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;return new Intl.NumberFormat(Sn,{notation:"standard",minimumFractionDigits:2}).format(e*ce)+" "+a},formatPerCent:function(e){return new Intl.NumberFormat(Sn,{notation:"standard",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)+"%"},formatExchangeRate:function(e){return new Intl.NumberFormat(Sn,{notation:"standard",minimumFractionDigits:5,maximumFractionDigits:5}).format(e)},formatDate:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"},t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sn,r=new Date(e);if(t){var s=r.getTimezoneOffset();r=d()(r).add(-s,"m").toDate()}return new Intl.DateTimeFormat(n,a).format(r)},updateLastSeenUser:Zn,sendEmailValidationRequest:Xn,getUrlParam:function(e){var a=window.location.search;return new URLSearchParams(a).get(e)},getAccountData:Yn,getTransactionById:function(e){Hn({req:"get transaction by id",data:{id:e}})},getBusinesses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Ma(null),St(null),Dt(1),bt(null),Hn({req:"get user businesses",data:{uid:_a,page:e,limit:et}}),st(e)},getBusinessPurposes:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return null!==a&&(ft(a),xt(null)),yt(null),St(null),Dt(t),bt(e),Hn({req:"get business purposes",data:{business_id:e,page:t,limit:Pt}})},getPurposeShareholders:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==a&&xt(e),Ut(null),Hn({req:"get purpose shareholders",data:{purpose_id:e}})},getCurrencies:function(e){pe(null),Hn({req:"get currencies",data:{page:e,limit:pa}}),na(e)},getTransactions:function(e){ve(null),Hn({req:"get transactions",data:{page:e,limit:va,uid:_a}}),ia(e)},getShares:function(e){Ne(null),Hn({req:"get shares",data:{page:e,limit:Na,uid:_a}}),ma(e)},parseLocaleNumber:function(e,a){var t=new Intl.NumberFormat(a,{style:"currency",currency:"USD"}).formatToParts(123456.789),n="",r="",s="";return t.forEach((function(e){switch(e.type){case"group":n=e.value;break;case"decimal":r=e.value;break;case"currency":s=e.value}})),parseFloat(e.replace(new RegExp("\\"+n,"g"),"").replace(new RegExp("\\"+r),".").replace(new RegExp("\\"+s,"g"),""))},getReviser:function(){return"STA"},getWorkplace:function(){return"LAPSTA"}};v.on("languageChanged",(function(e){kn(e)}));var Qn=function(e){Ht(e)},er={onRedirect:Qn,onSignUp:function(e){return Hn({req:"register user",data:e})},onSessionTimeout:function(){console.log("Session timed out..."),E(!0),Ht("/sign-out")},onTransferTypeChange:function(e){wn(e)},onTransferSuccess:function(){},onTransfer:function(e){Hn(e)},onPurposeRegistration:function(e){Hn(e)},onLogOut:function(){te(-1);var e={request:"bye"};e.instance=P,function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&console.log("request: end session",e,a),We.emit("end session",{data:e,session:a,req:"end session"})}(e,_,s),Z(!1),pe(null),ve(null),Ne(null),ke("balance"),we(null),qa(null),Va(null),wn("#u2s"),Ue(null),Ia(null),Ma(null),ct(!1),ft(null),yt(null),xt(null),Ut(null),_n(""),on(null),dn(null),Ln(null),Kn(null)},onAlertClose:function(){Jn()}};Object(n.useEffect)((function(){return function(){}}),[]),Ge((function(){Zn()}),ee),Object(n.useEffect)((function(){if(null!==_){var e={request:"hello"};e.instance=P,function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&console.log("request: start session",e,a),We.emit("start session",{data:e,session:a,req:"start session"})}(e,_,s)}}),[_]),Object(n.useEffect)((function(){}),[z]),Object(n.useEffect)((function(){Y&&(te(-1),Yn())}),[Y]),Object(n.useEffect)((function(){}),[ka]),Object(n.useEffect)((function(){}),[_a]),Object(n.useEffect)((function(){null!==$t&&Xn(JSON.parse($t))}),[$t]),Object(n.useEffect)((function(){null!==ln&&Qn("/password")}),[ln]),Object(n.useEffect)((function(){null!==tn&&function(e){var a=e.token,t=e.email;dn(t),Hn({req:"validate password reset token",data:{token:a,email:t}})}(JSON.parse(tn))}),[tn]);var ar=function(e){return{wrapperClass:e?"auth-wrapper auth-wrapper-summary":"auth-wrapper",innerClass:e?"auth-inner auth-inner-summary":"auth-inner autoWidth"}}(Y),tr=ar.wrapperClass,nr=ar.innerClass,rr={barrelGetters:Vn,barrelSetters:zn,barrelFunctions:$n,barrelEventHandlers:er},sr=Y?"App":"App bg";return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null,null===zt?"":r.a.createElement(o.a,{push:!0,to:zt}),r.a.createElement("div",{className:sr,style:{}},r.a.createElement("div",{className:tr,style:{}},r.a.createElement("div",{className:"d-none d-md-block",style:{height:"1rem"}}),r.a.createElement("div",{className:nr},r.a.createElement("div",{style:{height:"16px"}}),r.a.createElement("div",null,r.a.createElement(Ze,{data:rr})),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:function(){return Y?Ke(rr):Je(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/sign-in",component:function(){return Je(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/sign-up",component:function(){return Xe(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/validate-email",component:function(){return function(e){var a=Object.assign({namespace:"ValidateEmail"},e),t=a.barrelGetters,s=(t.validateTokenEmail,t.validationTokenEmail),l=t.validationTokenEmailResent,i=t.language,o=a.barrelSetters.setValidateTokenEmail,c=a.barrelFunctions,u=c.getUrlParam,m=c.sendRequest,d=Object(N.a)([a.namespace]).t,f=u("token"),p=u("email");Object(n.useEffect)((function(){null!==f&&null!==p&&o(JSON.stringify({token:f,email:p}))}),[]);var E=function(e){m({req:"resend validate email token",data:{token:s.token,email:s.email,language:i}})};return r.a.createElement(r.a.Fragment,null,null===f?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,d("A verification link has been sent to your email account.")),r.a.createElement("hr",null),r.a.createElement("p",null,d("Please click on the link that has just been sent to your email account")),l<5&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("h5",null,d("Didn't receive email?")),r.a.createElement(M,Object.assign({},e,{caption:d("Submit"),visible:!0,marginTop:20,request:"resend validate email token",namespace:a.namespace,onSubmit:E})))):r.a.createElement("div",{className:"text-center"},r.a.createElement(W.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:!1})))}(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/password",component:function(){return function(e){var a=Object.assign({namespace:"ChangePassword",request:"change password",email:null},e),t=a.barrelGetters,s=t.passwordResetTokenValidated,l=t.passwordResetTokenEmail,o=a.barrelFunctions.sendRequest,c=Object(N.a)([!0===s?"SignUp":"ChangePassword"]).t,u=Object(n.useState)(!1),m=Object(i.a)(u,2),d=m[0],f=m[1],p=function(){f(!d)},E=x.c({password:x.d().required(c("No password provided")).min(8,c("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,c("Password is too weak"))});return!0===s?r.a.createElement(R.a,{component:function(t){var n=t.handleSubmit,s=t.handleChange,l=(t.handleBlur,t.values),i=t.touched,o=(t.isValid,t.validateForm,t.errors);return r.a.createElement(w.a,{noValidate:!0,onSubmit:n},r.a.createElement(w.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(w.a.Label,null,c("New password")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{type:d?"text":"password",placeholder:c("Enter password"),name:"password",value:l.password,onChange:s,isInvalid:!!o.password&&i.password}),r.a.createElement(F.a.Append,null,r.a.createElement(F.a.Text,{id:"inputGroupAppend",onClick:p,style:{cursor:"pointer"}},d?r.a.createElement(Fe.a,{fontSize:"small",style:{color:"var(--dark)"}}):r.a.createElement(Ae.a,{fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.password))),r.a.createElement(M,Object.assign({},e,{caption:c("Submit"),request:a.request,namespace:a.namespace})))},validationSchema:E,onSubmit:function(e){return e.email=l,o({req:a.request,data:e})},initialValues:{password:""}}):r.a.createElement(r.a.Fragment,null,c("Awaiting validation"))}(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/profile",component:function(){return Y?Ke(rr):Je(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/currency",component:function(){return Y?Ke(rr):Je(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/sign-out",component:function(){return function(e){var a=Object.assign({},e),t=Object(N.a)("Logout").t,s=a.barrelGetters,l=s.error,i=s.language,o=a.barrelSetters.setLanguage,c=a.barrelFunctions.showMessage,u=a.barrelEventHandlers.onLogOut;return Object(n.useEffect)((function(){var e=l,a=i;u(),o(a),null!==e&&c(e,"error")}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,t("See you soon")),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("p",{className:"text-center"},r.a.createElement("a",{href:"/"},t("Sign in"))))}(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/reset",component:function(){return function(e){var a=Object.assign({namespace:"ResetPassword",request:"reset password"},e),t=a.barrelGetters.language,s=a.barrelSetters.setValidateTokenPasswordReset,l=a.barrelFunctions,i=l.sendRequest,o=l.getUrlParam,c=Object(N.a)(a.namespace).t,u=o("token"),m=o("email");Object(n.useEffect)((function(){null!==u&&null!==m&&s(JSON.stringify({token:u,email:m}))}),[]);var d=x.c({email:x.d().email(c("Invalid email address")).required(c("Email is required"))});return null===u?r.a.createElement(R.a,{component:function(t){var n=t.handleSubmit,s=t.handleChange,l=(t.handleBlur,t.values),i=t.touched,o=(t.isValid,t.validateForm,t.errors);return r.a.createElement(w.a,{noValidate:!0,onSubmit:n},r.a.createElement("h3",null,c("Reset password")),r.a.createElement(w.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(w.a.Label,null,c("Email address")),r.a.createElement(F.a,null,r.a.createElement(w.a.Control,{placeholder:c("Enter email"),name:"email",value:l.email,onChange:s,isInvalid:!!o.email&&i.email}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},o.email))),r.a.createElement(w.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(M,Object.assign({},e,{caption:c("Submit"),request:a.request,namespace:a.namespace}))))},validationSchema:d,onSubmit:function(e){e.language=t,i({req:a.request,data:e})},initialValues:{email:""}}):r.a.createElement("div",{className:"text-center"},r.a.createElement(W.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:!1}))}(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/account-registration",component:function(){return Ke(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/business-registration",component:function(){return Ke(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/my-business",component:function(){return Ke(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/balance",component:function(){return Ke(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/transfer",component:function(){return Ke(rr)}}),r.a.createElement(o.b,{exact:!0,path:"/summary",component:function(){return Ke(rr)}})),r.a.createElement("div",{className:"text-center"},r.a.createElement($e,rr)))))))},ea=(t(262),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"lds-hourglass"})))});null!==function(e){var a=window.location.search;return new URLSearchParams(a).get(e)}("reset")&&(window.localStorage.clear(),console.log("Local storage cleared")),l.a.render(r.a.createElement(n.Suspense,{fallback:r.a.createElement(ea,null)},r.a.createElement(Qe,null)),document.getElementById("root"))}},[[198,3,4]]]);
//# sourceMappingURL=main.f5073c37.chunk.js.map