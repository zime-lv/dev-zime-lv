(this["webpackJsonpzime-lv"]=this["webpackJsonpzime-lv"]||[]).push([[0],{174:function(e,a,t){e.exports=t(235)},179:function(e,a,t){},180:function(e,a,t){},181:function(e,a,t){},192:function(e,a,t){},202:function(e,a,t){},231:function(e,a){},234:function(e,a,t){},235:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(93),s=t.n(l),c=(t(179),t(180),t(5)),o=(t(119),t(181),t(52)),i=t(62),u=t(269),m=t(132),d=t(6),p=t(155),b=t(156);m.a.use(p.a).use(b.a).use(d.b).init({fallbackLng:"lv",debug:!1,ns:["LogIn","SignUp"],defaultNS:"translation",keySeparator:!1,interpolation:{escapeValue:!1},react:{wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}});var E,g=m.a,f=t(60),v=t(268),h=t(118),y=t(263),C=t(256),S=t(165),O=t(262),k=t(264),I=t(251),N=t(252),P=(t(192),t(79)),w=function(e){var a={title:"Untitled",navigation:void 0,footer:void 0,header:!0,body:!0,headerContent:null,onNavigationClick:function(){}},t=Object.assign(a,e),l=0,s=t.footer?r.a.createElement(P.a.Footer,null,t.footer):"";return r.a.createElement(P.a,null,t.header&&r.a.createElement(P.a.Header,null,null!==t.headerContent?t.headerContent:r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a.Title,null,t.title),r.a.createElement(h.a,{variant:"tabs",defaultActiveKey:t.navigationdefaultActiveKey},t.navigation&&t.navigation.map((function(e,a){return r.a.createElement(h.a.Item,{key:a},r.a.createElement(h.a.Link,{href:e.link,onClick:function(){return t.onNavigationClick(e.link)},style:{color:"black"}},e.name))}))))),t.body&&r.a.createElement(P.a.Body,null,r.a.Children.map(e.children,(function(e){return"object"!==typeof e?e:(l++,Object(n.cloneElement)(e,{styles:null,key:l}))}))),s)},_=t(9),j=t(7),A=t(172),F=t(266),T={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},q={borderColor:"#2196f3"},D={borderColor:"#00e676"},R={borderColor:"#ff1744"},x=function(e){var a=Object.assign({},e.data),t=a.barrelGetters.accountPhotoPath,l=a.barrelFunctions.sendRequest,s=Object(n.useState)(null),o=Object(c.a)(s,2)[1],i=Object(d.c)("AccountRegistration").t;""!==t&&(T.padding=0,T.borderStyle="none",T.backgroundColor="none");var u=Object(n.useCallback)((function(e){o(e),l({req:"upload file",data:e})}),[]),m=Object(A.a)({accept:"image/*",onDrop:u}),p=m.getRootProps,b=m.getInputProps,E=m.isDragActive,g=m.isDragAccept,v=m.isDragReject,h=Object(n.useMemo)((function(){return Object(f.a)({},T,{},E?q:{},{},g?D:{},{},v?R:{})}),[E,g,v]);return""===t?r.a.createElement("div",{className:"container"},r.a.createElement("div",p({style:h}),r.a.createElement("input",b()),r.a.createElement("p",null,i("Click to select the image file")))):(t="gfx/photo_id.png",r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",p({style:h}),r.a.createElement("input",b()),r.a.createElement(F.a.Image,{width:171,height:180,alt:"171x180",src:t})))))},G=t(249),L=t(250),B=function(e){var a=Object.assign({caption:"Submit",request:null,namespace:"Button",visible:!0,marginTop:0},e),t=a.barrelGetters.request;Object(d.c)([a.namespace]).t;return r.a.createElement(r.a.Fragment,null,a.visible?r.a.createElement(G.a,{type:"submit",block:!0,disabled:t===a.request,style:{marginTop:a.marginTop+"px"}},r.a.createElement(L.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:t!==a.request}),"\xa0",a.caption,"\xa0"):r.a.createElement(r.a.Fragment,null))},U=function(e){var a=Object.assign({request:"register account",namespace:"AccountRegistration"},e),t=a.barrelGetters,n=t.signedIn,l=t.accountNumber,s=t.accountPhotoPath,c=t.userData,o=a.barrelFunctions,i=o.getReviser,u=o.getWorkplace,m=o.sendRequest,p=Object(d.c)(a.namespace).t,b=j.b({dropzoneHook:j.c().required(p("Photo ID is required")),personalID:j.c().required(p("Personal ID is required")).matches(new RegExp(p("Personal ID Regex")),p("Wrong Personal ID format")).test({name:"integrity",exclusive:!0,params:{},message:p("PersonalID must be valid"),test:function(e){if("undefined"===typeof e)return!1;var a=e.replace("-","").split("").map((function(e){return parseInt(e,10)}));return(1101-(1*a[0]+6*a[1]+3*a[2]+7*a[3]+9*a[4]+10*a[5]+5*a[6]+8*a[7]+4*a[8]+2*a[9]))%11==a[10]}})});return!1===n?r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"info"},r.a.createElement(N.a.Heading,null,p("User not logged in")),r.a.createElement("p",null,r.a.createElement(d.a,{i18nKey:"AccountRegistration:Please log in first"},"Please log in first.")))):null!==l?r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"info"},r.a.createElement(N.a.Heading,null,p("Account successfully registered")),r.a.createElement("p",null,r.a.createElement(d.a,{i18nKey:"AccountRegistration:Account with your personal ID successfully registered",accountNumber:l},"Account with the personal ID",r.a.createElement("strong",null,{accountNumber:l}),"successfully registered.")))):r.a.createElement(w,{title:p("Open account")},r.a.createElement(_.a,{component:function(t){var n=t.handleSubmit,l=t.handleChange,c=(t.handleBlur,t.values),o=t.touched,i=(t.isValid,t.validateForm,t.setFieldValue,t.errors);return r.a.createElement(k.a,{noValidate:!0,onSubmit:n},r.a.createElement(k.a.Group,{controlId:"validationFormikPhotoId"},r.a.createElement(k.a.Label,null,p("Photo ID")),r.a.createElement(k.a.Text,null,r.a.createElement(d.a,{i18nKey:"AccountRegistration:Photo ID requirements"},"Photo of me holding my passport. The personal identification number must be clearly legible.")),r.a.createElement("br",null),r.a.createElement(x,{data:a})),r.a.createElement(k.a.Group,{controlId:"validationFormikDropzoneHook"},r.a.createElement(k.a.Control,{type:"text",name:"dropzoneHook",value:s,onChange:l,isInvalid:!!i.dropzoneHook,style:{display:"none"}}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},i.dropzoneHook)),!1,r.a.createElement(k.a.Group,{controlId:"validationFormikPersonalId"},r.a.createElement(k.a.Label,null,p("Personal ID")),r.a.createElement(I.a,null,r.a.createElement(I.a.Prepend,null,r.a.createElement(I.a.Text,{id:"inputGroupPrepend"},"ID")),r.a.createElement(k.a.Control,{type:"text",placeholder:p("XXXXXX-XXXXX"),"aria-describedby":"inputGroupPrepend",name:"personalID",value:c.personalID,onChange:l,isInvalid:!!i.personalID&&o.personalID}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},i.personalID))),r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Check,{required:!0,name:"terms",label:p("Agree to terms and conditions"),onChange:l,isInvalid:!!i.terms&&o.terms,feedback:i.terms,id:"validationFormik0"})),r.a.createElement(B,Object.assign({},e,{caption:p("Submit"),request:a.request,namespace:a.namespace})))},validationSchema:b,onSubmit:function(e){!function(e){null!==e&&(e.reviser=i(),e.workplace=u(),e.email=c.email,m({req:a.request,data:e}))}(e)},initialValues:{personalID:"",terms:"",dropzoneHook:s}}))},K=function(e){var a=Object.assign({},e),t=a.barrelGetters.accountNumber,n=a.barrelFunctions,l=n.getReviser,s=n.getWorkplace,c=a.barrelEventHandlers.onBusinessRegistration,o=Object(d.c)(["BusinessRegistration"]).t,i=j.b({businessTitle:j.c().required(o("Business title is a required field")).min(3,o("Business title too short")).max(70,o("Business title too long")).trim(),businessDescription:j.c().optional()});return r.a.createElement(_.a,{component:function(e){var a=e.handleSubmit,t=e.handleChange,n=(e.handleBlur,e.values),l=e.touched,s=(e.isValid,e.errors);return r.a.createElement(k.a,{noValidate:!0,onSubmit:a},r.a.createElement(k.a.Group,{controlId:"validationFormikDestinationAccountID"},r.a.createElement(k.a.Label,null,o("Business Title")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"businessTitle",value:n.businessTitle,onChange:t,isInvalid:!!s.businessTitle&&l.businessTitle}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},s.businessTitle))),r.a.createElement(k.a.Group,{controlId:"businessDescription",name:"businessDescription",value:n.businessDescription,onChange:t},r.a.createElement(k.a.Label,null,o("Business Description")),r.a.createElement(k.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(G.a,{type:"submit",block:!0},o("Submit")))},validationSchema:i,onSubmit:function(e){!function(e){e.reviser=l(),e.workplace=s(),e.uid=t,console.log("REGISTER BUSINESS DATA:",e),c({req:"register business",data:e})}(e)},initialValues:{businessTitle:"",businessDescription:""}})},V=t(271),H=t(254),z=t(117),J=t.n(z),W=t(270),X=t(54),M=function(e){var a=Object.assign({namespace:"Pagination",pages:0,active:null,onClick:function(){},align:"center"},e);if(a.pages<2)return r.a.createElement(r.a.Fragment,null);Object(d.c)([a.namespace]).t;return r.a.createElement(r.a.Fragment,null,function(){var e=a.align;return r.a.createElement("div",{style:{textAlign:"".concat(e)}},r.a.createElement("span",{style:{display:"inline-block"}},r.a.createElement(X.a,{style:{padding:0,margin:0}},a.pages>5&&r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a.First,{onClick:function(){return a.onClick("First")}}),r.a.createElement(X.a.Prev,{onClick:function(){return a.onClick("Prev")}})),function(){for(var e=[],t=function(t){1===t||t===a.pages||t>=a.active-2&&t<=a.active+2?e.push(r.a.createElement(X.a.Item,{key:t,active:t===a.active,onClick:function(){return a.onClick(t)}},t)):2!==t&&t!==a.pages-1||e.push(r.a.createElement(X.a.Ellipsis,{key:t,disabled:!0}))},n=1;n<=a.pages;n++)t(n);return e}(),a.pages>5&&r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a.Next,{onClick:function(){return a.onClick("Next")}}),r.a.createElement(X.a.Last,{onClick:function(){return a.onClick("Last")}})))))}())},$=function(e){var a=Object.assign({request:"get transactions",namespace:"Transactions"},e),t=a.barrelGetters,n=t.transactions,l=t.countTransactions,s=t.activePageTransactions,c=t.transactionsPerPage,o=t.accountNumber,i=(a.barrelSetters.setActivePageTransactions,a.barrelFunctions),u=(i.getReviser,i.getWorkplace,i.sendRequest,i.getTransactions),m=i.format,p=i.formatDate,b=Object(d.c)([a.namespace]).t,E=0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{variant:"flush"},null!==n&&n.map((function(e,a){E++;e.business_description,e.business_id,e.business_image,e.business_link,e.business_status;var t=e.business_title,n=(e.comment,e.conv_amount),l=e.created,s=(e.currency,e.exchange_rate,e.sender_firstname),c=e.sender_lastname,i=e.recipient_firstname,u=e.recipient_lastname,d=(e.purpose_description,e.purpose_id),b=(e.purpose_image,e.purpose_link,e.purpose_status,e.purpose_title),g=e.recipient_id,f=e.sender_id,v=(e.sender_status,e.recipient_status,e.to_account,e.type),h=f===o,y=g===o;return"transfer U2S"===v?r.a.createElement(W.a.Item,{key:a,action:!0},s," ",c,r.a.createElement("span",{style:{float:"right"}},y?"":"-",m(n)),r.a.createElement("br",null),r.a.createElement("small",null,p(l))):"transfer U2U"===v?r.a.createElement(W.a.Item,{key:a,action:!0},i," ",u,r.a.createElement("span",{style:{float:"right"}},y?"":"-",m(n)),r.a.createElement("br",null),r.a.createElement("small",null,p(l))):"transfer U2B"===v?r.a.createElement(W.a.Item,{key:a,action:!0},d,r.a.createElement("span",{style:{float:"right"}},y?"":"-",m(n)),h?"":r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),s," ",c),r.a.createElement("br",null),t," \xb7 ",b,r.a.createElement("br",null),r.a.createElement("small",null,p(l))):void 0}))),0===E&&r.a.createElement("p",{className:"text-center text-muted"},b("No transactions")),r.a.createElement("br",null),r.a.createElement(M,Object.assign({},e,{pages:Math.ceil(l/c),active:s,onClick:function(e){switch(console.log("on page select",e),e){case"First":e=1;break;case"Prev":e=s>1?s-1:1;break;case"Next":e=s<Math.ceil(l/c)?s+1:Math.ceil(l/c);break;case"Last":e=Math.ceil(l/c)}u(e)}})))},Z=t(265),Y=t(253),Q=t(167),ee=t.n(Q),ae=function(e){var a=Object.assign({namespace:"Shareholder",request:"change share",purpose:null,shareholder:null,closeButton:!0,rangeControl:!0,sharePerCent:null,businessTitle:null,purposeTitle:null,businessOwnerFirstname:null,businessOwnerLastname:null,sharesCreated:null},e),t=a.barrelGetters.purposeShareholders,l=a.barrelSetters.setPurposeShareholders,s=a.barrelFunctions,o=s.sendRequest,i=s.formatPerCent,u=s.formatDate,m=Object(n.useState)(a.share),p=Object(c.a)(m,2),b=p[0],E=p[1],g=Object(n.useRef)(ee.a.debounce((function(e){return h(e)}),2e3)).current,f=(Object(d.c)([a.namespace]).t,function(e){E(e.target.value),g(e.target.value)}),v=function(){var e={};return e.purpose_id=a.purpose,e.shareholder_id=a.shareholder,o({req:"remove shareholder",data:e})},h=function(e){var n=t;n[a.id].share=e,l(JSON.stringify(n));var r={};return r.purpose_id=a.purpose,r.shareholder_id=a.shareholder,r.share=e,o({req:a.request,data:r})};return r.a.createElement(r.a.Fragment,null,function(){var e="sharesLabel".concat(a.key);return r.a.createElement(Z.a,{key:a.key,onClose:v,style:{minWidth:"100%"}},r.a.createElement(Z.a.Header,{closeButton:a.closeButton},r.a.createElement("strong",{className:"mr-auto"},a.firstname," ",a.lastname," ",r.a.createElement("small",null,r.a.createElement(Y.a,{hidden:!0,fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement("small",null,r.a.createElement("span",{id:e},b)," shares")),r.a.createElement(Z.a.Body,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Group,{controlId:"formRoles"},r.a.createElement("div",null,a.roles.map((function(e,a){return r.a.createElement("span",{key:a},r.a.createElement(H.a,{pill:!0,variant:"secondary"},e)," ")})))),a.rangeControl&&r.a.createElement(k.a.Group,{controlId:"formBasicRange"},r.a.createElement(k.a.Control,{type:"range",variant:"light",defaultValue:b,min:0,max:1e3,step:1,onChange:f}))),r.a.createElement("span",null,null!==a.sharePerCent&&i(a.sharePerCent)," ",null!==a.businessTitle&&a.businessTitle," ",null!==a.businessTitle&&null!==a.purposeTitle&&r.a.createElement(r.a.Fragment,null," \xb7 "),null!==a.purposeTitle&&a.purposeTitle," "),null!==a.sharesCreated&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),u(a.sharesCreated,{month:"long",day:"numeric",year:"numeric"}))," ",(null!==a.businessOwnerFirstname||null!==a.businessOwnerLastname)&&r.a.createElement("br",null),null!==a.businessOwnerFirstname&&a.businessOwnerFirstname," ",null!==a.businessOwnerLastname&&a.businessOwnerLastname," "))}())},te=function(e){var a=Object.assign({request:"get shares",namespace:"Shares"},e),t=a.barrelGetters,n=t.shares,l=t.countShares,s=t.activePageShares,c=t.sharesPerPage,o=(t.accountNumber,t.userData),i=(a.barrelSetters.setActivePageShares,a.barrelFunctions),u=(i.getReviser,i.getWorkplace,i.sendRequest,i.getShares),m=(i.format,i.formatPerCent,i.formatDate),p=Object(d.c)([a.namespace]).t,b=0;return r.a.createElement(r.a.Fragment,null,null!==n&&n.map((function(a,t){b++;a.business_description,a.business_id,a.business_image,a.business_link,a.business_status;var n=a.business_title,l=a.owner_firstname,s=a.owner_lastname,c=(a.owner_status,a.owner_uid,a.purpose_description,a.purpose_id),i=(a.purpose_image,a.purpose_link,a.purpose_status,a.purpose_title),u=a.shareholder_id,d=a.shares_created,p=(a.shares_description,a.share_per_cent),E=a.shares_roles,g=a.shares_share,f=(a.shares_status,a.shares_title,null!==E?E.split(","):[]);"".concat(l," ").concat(s," / ").concat(m(d));return r.a.createElement(ae,Object.assign({},e,{key:t,id:t,shareholder:u,purpose:c,firstname:o.firstname,lastname:o.lastname,share:g,roles:f,closeButton:!1,rangeControl:!1,sharePerCent:p,businessOwnerFirstname:l,businessOwnerLastname:s,businessTitle:n,purposeTitle:i,sharesCreated:d}))})),0===b&&r.a.createElement("p",{className:"text-center text-muted"},p("No shares")),r.a.createElement(M,Object.assign({},e,{pages:Math.ceil(l/c),active:s,onClick:function(e){switch(console.log("on page select",e),e){case"First":e=1;break;case"Prev":e=s>1?s-1:1;break;case"Next":e=s<Math.ceil(l/c)?s+1:Math.ceil(l/c);break;case"Last":e=Math.ceil(l/c)}u(e)}})))},ne=function(e){var a=Object.assign({},e),t=a.barrelGetters,l=t.userData,s=t.accountNumber,i=t.accordionView,u=a.barrelSetters,m=u.setAccountType,p=u.setRedirectTo,b=u.setAccordionView,E=a.barrelFunctions,g=E.format,f=E.getAccountData,v=E.getTransactions,h=E.getShares,y=Object(d.c)("Balance").t,C=Object(n.useState)(!1),S=Object(c.a)(C,2),O=S[0],I=(S[1],l),w=function(e){m(e),p("/transfer")},_=null!==I?g(I.acc_curr+I.acc_cred+I.acc_save):null,j=null!==I?g(I.acc_curr):null,A=null!==I?g(I.acc_cred):null,F=null!==I?g(I.acc_save):null;if(O)return r.a.createElement(o.a,{push:!0,to:"/transfer"});if(null===s)return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"warning"},r.a.createElement(N.a.Heading,null,y("Account not yet registered")),r.a.createElement("p",null,r.a.createElement(d.a,{i18nKey:"Balance:Please set up your account first."},"Please set up your account first. Use this"," ",r.a.createElement("a",{href:"/account-registration"},"link"),"."))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{defaultActiveKey:i},r.a.createElement(P.a,null,r.a.createElement(V.a.Toggle,{as:P.a.Header,eventKey:"balance",style:{cursor:"pointer"},onClick:function(){b("balance"),f()}},y("Balance")),r.a.createElement(V.a.Collapse,{eventKey:"balance"},r.a.createElement(P.a.Body,null,r.a.createElement(k.a,{noValidate:!0},r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Label,null,y("Available")),r.a.createElement(k.a.Text,null,r.a.createElement("div",{style:{fontSize:"3em"}},_))),r.a.createElement(k.a.Group,null,r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},y("Current account")),r.a.createElement("span",{className:"link",onClick:function(){return w("acc_curr")}},r.a.createElement(H.a,{variant:"Light"},j),"\xa0",r.a.createElement(J.a,{style:{color:"var(--dark)"}}))),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},y("Credit account")),r.a.createElement("span",{className:"link",onClick:function(){return w("acc_cred")}},r.a.createElement(H.a,{variant:"Light"},A),"\xa0",r.a.createElement(J.a,{style:{color:"var(--dark)"}}))),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{}},y("Savings account")),r.a.createElement("span",{className:"link",onClick:function(){return w("acc_save")}},r.a.createElement(H.a,{variant:"Light"},F),"\xa0",r.a.createElement(J.a,{style:{color:"var(--dark)"}}))))))))),r.a.createElement(P.a,null,r.a.createElement(V.a.Toggle,{as:P.a.Header,eventKey:"transactions",style:{cursor:"pointer"},onClick:function(){b("transactions"),v(1)}},y("Transactions")),r.a.createElement(V.a.Collapse,{eventKey:"transactions"},r.a.createElement(P.a.Body,null,r.a.createElement($,e)))),r.a.createElement(P.a,null,r.a.createElement(V.a.Toggle,{as:P.a.Header,eventKey:"shares",style:{cursor:"pointer"},onClick:function(){b("shares"),h(1)}},y("Shares")),r.a.createElement(V.a.Collapse,{eventKey:"shares"},r.a.createElement(P.a.Body,null,r.a.createElement(te,e))))))},re=function(e){var a=e.args,t=e.title,n=e.navigation,l=e.navigationdefaultActiveKey,s=e.onNavigationClick,c=Object.assign({request:"transfer U2S",namespace:"Transfer"},a),o=c.barrelGetters,i=(o.request,o.userData),u=o.accountNumber,m=o.accountType,p=o.language,b=o.currencyAbbr,E=(c.barrelSetters.setAccountType,c.barrelFunctions),g=E.format,f=E.parseLocaleNumber,v=E.sendRequest,h=E.getReviser,y=E.getWorkplace,C=Object(d.c)([c.namespace]).t,S=(i.currency_abbr,j.b({fromAccount:j.c().required(C("From Account is required")),toAccount:j.c().required(C("To Account is required")),amount:j.c().required(C("Amount is required")).matches(new RegExp(C("Amount Regex")),C("Wrong amount format"))})),O="",N="",P="";null!==i&&(O=" ("+g(i.acc_curr)+")",N=" ("+g(i.acc_cred)+")",P=" ("+g(i.acc_save)+")");return r.a.createElement(_.a,{component:function(e){var o=e.handleSubmit,i=e.handleChange,u=(e.handleBlur,e.values),d=e.touched,p=(e.isValid,e.validateForm,e.errors);return r.a.createElement(w,{title:t,navigation:n,navigationdefaultActiveKey:l,onNavigationClick:s},r.a.createElement(k.a,{noValidate:!0,onSubmit:o},r.a.createElement(k.a.Group,{controlId:"validationFromAccount"},r.a.createElement(k.a.Label,null,C("From account")),r.a.createElement(k.a.Control,{as:"select",custom:!0,name:"fromAccount",onChange:i,isInvalid:!!p.fromAccount&&d.fromAccount},r.a.createElement("option",{value:""},C("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==m&&"acc_curr"!==m},C("Current account"),O),r.a.createElement("option",{value:"acc_cred",hidden:null!==m&&"acc_cred"!==m},C("Credit account"),N),r.a.createElement("option",{value:"acc_save",hidden:null!==m&&"acc_save"!==m},C("Savings account"),P)),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},p.fromAccount)),r.a.createElement(k.a.Group,{controlId:"validationToAccount"},r.a.createElement(k.a.Label,null,C("To account")),r.a.createElement(k.a.Control,{as:"select",custom:!0,name:"toAccount",onChange:i,isInvalid:!!p.toAccount&&d.toAccount},r.a.createElement("option",{value:""},C("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:"acc_curr"===m},C("Current account"),O),r.a.createElement("option",{value:"acc_cred",hidden:"acc_cred"===m},C("Credit account"),N),r.a.createElement("option",{value:"acc_save",hidden:"acc_save"===m},C("Savings account"),P)),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},p.toAccount)),r.a.createElement(k.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(k.a.Label,null,C("Amount")),r.a.createElement(I.a,null,r.a.createElement(I.a.Prepend,null,r.a.createElement(I.a.Text,{id:"inputGroupPrepend"},b)),r.a.createElement(k.a.Control,{placeholder:g(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",value:u.amount,onChange:i,isInvalid:!!p.amount&&d.amount}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},p.amount))),r.a.createElement(B,Object.assign({},a,{caption:C("Submit"),request:"transfer U2S",namespace:c.namespace}))))},validationSchema:S,onSubmit:function(e){!function(e){e.reviser=h(),e.workplace=y(),e.uid=u,e.amount=f(e.amount,p,"USD"),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2}).format(e.amount),v({req:c.request,data:e})}(e)},initialValues:{fromAccount:"",toAccount:"",amount:""}})},le=function(e){var a=e.args,t=e.title,n=e.navigation,l=e.navigationdefaultActiveKey,s=e.onNavigationClick,c=Object.assign({request:"transfer U2U",namespace:"Transfer"},a),o=c.barrelGetters,i=(o.request,o.userData),u=o.accountNumber,m=o.language,p=o.accountType,b=o.currencyAbbr,E=(c.barrelSetters.setAccountType,c.barrelFunctions),g=E.format,f=E.parseLocaleNumber,v=E.sendRequest,h=E.getReviser,y=E.getWorkplace,C=(c.barrelEventHandlers.onTransfer,Object(d.c)([c.namespace]).t),S=(i.currency_abbr,j.b({fromAccount:j.c().required(C("From Account is required")),toPersonalID:j.c().required(C("Recipients Personal ID is required")).matches(new RegExp(C("Personal ID Regex")),C("Wrong Personal ID format")),amount:j.c().required(C("Amount is required")).matches(new RegExp(C("Amount Regex")),C("Wrong amount format"))})),O="",N="",P="";null!==i&&(O=" ("+g(i.acc_curr)+")",N=" ("+g(i.acc_cred)+")",P=" ("+g(i.acc_save)+")");return r.a.createElement(_.a,{component:function(e){var o=e.handleSubmit,i=e.handleChange,u=(e.handleBlur,e.values),m=e.touched,d=(e.isValid,e.errors);return r.a.createElement(w,{title:t,navigation:n,navigationdefaultActiveKey:l,onNavigationClick:s},r.a.createElement(k.a,{noValidate:!0,onSubmit:o},r.a.createElement(k.a.Group,{controlId:"validationFromAccount"},r.a.createElement(k.a.Label,null,C("From account")),r.a.createElement(k.a.Control,{as:"select",custom:!0,name:"fromAccount",onChange:i,isInvalid:!!d.fromAccount&&m.fromAccount},r.a.createElement("option",{value:""},C("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==p&&"acc_curr"!==p},C("Current account"),O),r.a.createElement("option",{value:"acc_cred",hidden:null!==p&&"acc_cred"!==p},C("Credit account"),N),r.a.createElement("option",{value:"acc_save",hidden:null!==p&&"acc_save"!==p},C("Savings account"),P)),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},d.fromAccount)),r.a.createElement(k.a.Group,{controlId:"validationFormikToPersonalID"},r.a.createElement(k.a.Label,null,C("To Personal ID")),r.a.createElement(I.a,null,r.a.createElement(I.a.Prepend,null,r.a.createElement(I.a.Text,{id:"inputGroupPrepend"},"ID")),r.a.createElement(k.a.Control,{type:"text",placeholder:"XXXXXX-XXXXX","aria-describedby":"inputGroupPrepend",name:"toPersonalID",value:u.toPersonalID,onChange:i,isInvalid:!!d.toPersonalID&&m.toPersonalID}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},d.toPersonalID))),r.a.createElement(k.a.Group,{controlId:"description",name:"description",value:u.description,onChange:i},r.a.createElement(k.a.Label,null,C("Description")),r.a.createElement(k.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(k.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(k.a.Label,null,C("Amount")),r.a.createElement(I.a,null,r.a.createElement(I.a.Prepend,null,r.a.createElement(I.a.Text,{id:"inputGroupPrepend"},b)),r.a.createElement(k.a.Control,{placeholder:g(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",value:u.amount,onChange:i,isInvalid:!!d.amount&&m.amount}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},d.amount))),r.a.createElement(B,Object.assign({},a,{caption:C("Submit"),request:c.request,namespace:c.namespace}))))},validationSchema:S,onSubmit:function(e){!function(e){e.reviser=h(),e.workplace=y(),e.uid=u,e.amount=f(e.amount,m,"USD"),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2}).format(e.amount),v({req:c.request,data:e})}(e)},initialValues:{fromAccount:"",toPersonalID:"",amount:"",description:""}})},se=function(e){var a=e.args,t=e.title,n=e.navigation,l=e.navigationdefaultActiveKey,s=e.onNavigationClick,c=Object.assign({request:"transfer U2B",namespace:"Transfer"},a),o=c.barrelGetters,i=(o.request,o.userData),u=o.accountNumber,m=o.language,p=o.accountType,b=o.currencyAbbr,E=(c.barrelSetters.setAccountType,c.barrelFunctions),g=E.format,f=E.parseLocaleNumber,v=E.sendRequest,h=E.getReviser,y=E.getWorkplace,C=(c.barrelEventHandlers.onTransfer,Object(d.c)([c.namespace]).t),S=(i.currency_abbr,j.b({fromAccount:j.c().required(C("From Account is required")),purposeID:j.c().required(C("Purpose ID is required")),amount:j.c().required(C("Amount is required")).matches(new RegExp(C("Amount Regex")),C("Wrong amount format"))})),O="",N="",P="";null!==i&&(O=" ("+g(i.acc_curr)+")",N=" ("+g(i.acc_cred)+")",P=" ("+g(i.acc_save)+")");return r.a.createElement(_.a,{component:function(e){var o=e.handleSubmit,i=e.handleChange,u=(e.handleBlur,e.values),m=e.touched,d=(e.isValid,e.errors);return r.a.createElement(w,{title:t,navigation:n,navigationdefaultActiveKey:l,onNavigationClick:s},r.a.createElement(k.a,{noValidate:!0,onSubmit:o},r.a.createElement(k.a.Group,{controlId:"validationFromAccount"},r.a.createElement(k.a.Label,null,C("From account")),r.a.createElement(k.a.Control,{as:"select",custom:!0,name:"fromAccount",onChange:i,isInvalid:!!d.fromAccount&&m.fromAccount},r.a.createElement("option",{value:""},C("Choose...")),r.a.createElement("option",{value:"acc_curr",hidden:null!==p&&"acc_curr"!==p},C("Current account"),O),r.a.createElement("option",{value:"acc_cred",hidden:null!==p&&"acc_cred"!==p},C("Credit account"),N),r.a.createElement("option",{value:"acc_save",hidden:null!==p&&"acc_save"!==p},C("Savings account"),P)),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},d.fromAccount)),r.a.createElement(k.a.Group,{controlId:"validationFormikDestinationAccountID"},r.a.createElement(k.a.Label,null,C("To Purpose ID")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"purposeID",value:u.purposeID,onChange:i,isInvalid:!!d.purposeID&&m.purposeID}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},d.purposeID))),r.a.createElement(k.a.Group,{controlId:"description",name:"description",value:u.description,onChange:i},r.a.createElement(k.a.Label,null,C("Description")),r.a.createElement(k.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(k.a.Group,{controlId:"validationFormikAmount"},r.a.createElement(k.a.Label,null,C("Amount")),r.a.createElement(I.a,null,r.a.createElement(I.a.Prepend,null,r.a.createElement(I.a.Text,{id:"inputGroupPrepend"},b)),r.a.createElement(k.a.Control,{type:"string",placeholder:g(0,""),"aria-describedby":"inputGroupPrepend",name:"amount",value:u.amount,onChange:i,isInvalid:!!d.amount&&m.amount}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},d.amount))),r.a.createElement(B,Object.assign({},a,{caption:C("Submit"),request:c.request,namespace:c.namespace}))))},validationSchema:S,onSubmit:function(e){!function(e){e.reviser=h(),e.workplace=y(),e.uid=u,e.amount=f(e.amount,m,"USD"),e.amount=new Intl.NumberFormat("en-US",{notation:"standard",minimumFractionDigits:2}).format(e.amount),v({req:c.request,data:e})}(e)},initialValues:{fromAccount:"",purposeID:"",amount:"",description:""}})},ce=t(267),oe=t(255),ie=function(e){var a=Object.assign({businessID:null},e),t=a.data,n=a.businessID,l=t.barrelFunctions,s=l.getReviser,c=l.getWorkplace,o=t.barrelEventHandlers.onPurposeRegistration,i=Object(d.c)(["PurposeRegistration"]).t,u=j.b({purposeTitle:j.c().required(i("Purpose title is a required field")).min(3,i("Purpose title too short")).max(70,i("Purpose title too long")).trim(),purposeDescription:j.c().optional()});return r.a.createElement(_.a,{component:function(e){var a=e.handleSubmit,t=e.handleChange,n=(e.handleBlur,e.values),l=e.touched,s=(e.isValid,e.errors);return r.a.createElement(k.a,{noValidate:!0,onSubmit:a},r.a.createElement(k.a.Group,{controlId:"validationFormikPurposeID"},r.a.createElement(k.a.Label,null,i("Purpose Title")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"purposeTitle",value:n.purposeTitle,onChange:t,isInvalid:!!s.purposeTitle&&l.purposeTitle}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},s.purposeTitle))),r.a.createElement(k.a.Group,{controlId:"purposeDescription",name:"purposeDescription",value:n.purposeDescription,onChange:t},r.a.createElement(k.a.Label,null,i("Purpose Description")),r.a.createElement(k.a.Control,{as:"textarea",rows:"3"})),r.a.createElement(G.a,{type:"submit",block:!0},i("Submit")))},validationSchema:u,onSubmit:function(e){!function(e){e.reviser=s(),e.workplace=c(),e.businessID=n,console.log("REGISTER PURPOSE DATA:",e),o({req:"register purpose",data:e})}(e)},initialValues:{purposeTitle:"",purposeDescription:""}})},ue=t(170),me=function(e){var a=Object.assign({request:"register shareholder",namespace:"ShareholderRegistration"},e),t=a,n=a.purposeID,l=t.barrelGetters,s=l.accountNumber,c=(l.request,t.barrelFunctions),o=c.getReviser,i=c.getWorkplace,u=c.sendRequest;Object(ue.a)(t.barrelEventHandlers);var m=Object(d.c)([a.namespace]).t,p=j.b({personalID:j.c().required(m("Personal ID is required")).matches(new RegExp(m("Personal ID Regex")),m("Wrong Personal ID format")),shareholderRoles:j.c().optional(),shares:j.a().typeError(m("Shares must be a number")).required(m("Shares is required")).min(0,m("Shares too few")).max(1e3,m("Shares too many"))});return r.a.createElement(_.a,{component:function(t){var n=t.handleSubmit,l=t.handleChange,s=(t.handleBlur,t.values),c=t.touched,o=(t.isValid,t.errors);return r.a.createElement(k.a,{id:"shareholderRegistrationForm",noValidate:!0,onSubmit:n},r.a.createElement(Z.a,{style:{minWidth:"100%"}},r.a.createElement(Z.a.Body,null,r.a.createElement(k.a.Group,{controlId:"validationFormikShareholderPersonalID"},r.a.createElement(k.a.Label,null,m("Shareholder Personal ID")),r.a.createElement(I.a,null,r.a.createElement(I.a.Prepend,null,r.a.createElement(I.a.Text,{id:"inputGroupPrepend"},"ID")),r.a.createElement(k.a.Control,{type:"text",placeholder:m("XXXXXX-XXXXX"),"aria-describedby":"inputGroupPrepend",name:"personalID",value:s.personalID,onChange:l,isInvalid:!!o.personalID&&c.personalID}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.personalID))),r.a.createElement(k.a.Group,{controlId:"validationFormikShareholderRoles"},r.a.createElement(k.a.Label,null,m("Shareholder Roles")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"text",placeholder:"","aria-describedby":"inputGroupPrepend",name:"shareholderRoles",value:s.shareholderRoles,onChange:l,isInvalid:!!o.shareholderRoles&&c.shareholderRoles}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.shareholderRoles))),r.a.createElement(k.a.Group,{controlId:"validationFormikShareholderRoles"},r.a.createElement(k.a.Label,null,m("Shares")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"number",min:0,max:1e3,step:1,placeholder:"","aria-describedby":"inputGroupPrepend",name:"shares",value:s.shares,onChange:l,isInvalid:!!o.shares&&c.shares}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.shares))),r.a.createElement(B,Object.assign({},e,{caption:m("Submit"),request:a.request,namespace:a.namespace})))))},validationSchema:p,onSubmit:function(e){e.reviser=o(),e.workplace=i(),e.uid=s,e.purposeID=n,u({req:a.request,data:e})},initialValues:{personalID:"",shares:0,shareholderRoles:""}})},de=function(e){var a=Object.assign({namespace:"MyBusiness"},e),t=a.barrelGetters,l=t.userBusinesses,s=t.activeBusiness,c=t.businessPurposes,o=t.activeBusinesPurpose,i=t.purposeShareholders,u=t.language,m=a.barrelFunctions,p=(m.getBusinesses,m.getBusinessPurposes),b=m.getPurposeShareholders,E=Object(d.c)([a.namespace]).t;Object(n.useEffect)((function(){}),[]);var g=[],f=[],v=0;null!==l&&Object.keys(l).map((function(a,t){return g[t]=[],f[t]=[],null!==c&&Object.keys(c).map((function(n,s){return c[n].business_id===l[a].business_id&&(g[t][s]=r.a.createElement(W.a.Item,{action:!0,key:c[n].purpose_id,eventKey:c[n].purpose_id,onClick:function(){return function(e){var a=e.eventKey,t=e.purposeID;b(t,a)}({eventKey:s,purposeID:c[n].purpose_id})}},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},t+1,".",s+1," ",c[n].title)),f[t][s]=r.a.createElement(ce.a.Pane,{key:c[n].purpose_id,eventKey:c[n].purpose_id},r.a.createElement(V.a,{defaultActiveKey:"shareholders"},r.a.createElement(P.a,{bg:"light"},r.a.createElement(V.a.Toggle,{as:P.a.Header,style:{cursor:"pointer"},eventKey:"purpose_id"},E("Purpose ID")),r.a.createElement(V.a.Collapse,{eventKey:"purpose_id"},r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Text,null,c[n].purpose_id)))),r.a.createElement(P.a,{bg:"light"},r.a.createElement(V.a.Toggle,{as:P.a.Header,style:{cursor:"pointer"},eventKey:"description"},E("Purpose Description")),r.a.createElement(V.a.Collapse,{eventKey:"description"},r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Text,null,c[n].description)))),r.a.createElement(P.a,{bg:"light"},r.a.createElement(V.a.Toggle,{as:P.a.Header,style:{cursor:"pointer"},eventKey:"shareholders"},E("Purpose Shareholders")),r.a.createElement(V.a.Collapse,{eventKey:"shareholders"},r.a.createElement(P.a.Body,null,"undefined"!==typeof i&&null!==i&&Object.keys(i).map((function(a,t){if(i[a].purpose_id===c[n].purpose_id){var l=i[a].purpose_id,s=i[a],o=s.shareholder_id,u=s.firstname,m=s.lastname,d=(s.email,s.roles),p=s.share;v++;var b=null!==d?d.split(","):[];return r.a.createElement(ae,Object.assign({},e,{key:t,id:t,shareholder:o,purpose:l,firstname:u,lastname:m,share:p,roles:b}))}})),0===v&&r.a.createElement(P.a.Text,{className:"text-muted"},E("No shareholders"))))),r.a.createElement(P.a,{bg:"light"},r.a.createElement(V.a.Toggle,{as:P.a.Header,style:{cursor:"pointer"},eventKey:"2"},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},r.a.createElement(oe.a,{fontSize:"small",style:{color:"var(--dark)"}}),"\xa0",E("Add Shareholder"))),r.a.createElement(V.a.Collapse,{eventKey:"2"},r.a.createElement(P.a.Body,null,r.a.createElement(me,Object.assign({},e,{purposeID:c[n].purpose_id})))))))),v=0,!0})),!0}));var h=r.a.createElement(V.a,{defaultActiveKey:s},null!==l&&Object.keys(l).map((function(a,t){var n=new Date(l[a].created),s=new Intl.DateTimeFormat(u).format(n);return r.a.createElement(P.a,{key:t},r.a.createElement(V.a.Toggle,{as:P.a.Header,eventKey:t,style:{cursor:"pointer"},onClick:function(){return function(e){var a=e.eventKey,t=e.businessID;p(t,a)}({eventKey:t,businessID:l[a].business_id})}},t+1," ",l[a].title),r.a.createElement(V.a.Collapse,{eventKey:t},r.a.createElement(P.a.Body,null,r.a.createElement(ce.a.Container,{id:"left-tabs-example",defaultActiveKey:null!==o?o:"aboutBusiness"},r.a.createElement(C.a,null,r.a.createElement(S.a,{sm:5},r.a.createElement(W.a,{variant:"flush"},r.a.createElement(W.a.Item,{action:!0,eventKey:"aboutBusiness"},E("About")),g[t],r.a.createElement(W.a.Item,{action:!0,eventKey:"addPurpose"},r.a.createElement("span",{style:{whiteSpace:"nowrap"}},r.a.createElement(oe.a,{fontSize:"small",style:{color:"var(--dark)"}}),"\xa0",E("Add Purpose"))))),r.a.createElement(S.a,{sm:7},r.a.createElement(ce.a.Content,null,r.a.createElement(ce.a.Pane,{eventKey:"aboutBusiness"},r.a.createElement(V.a,{defaultActiveKey:"businessID"},r.a.createElement(P.a,null,r.a.createElement(V.a.Toggle,{as:P.a.Header,style:{cursor:"pointer"},eventKey:"businessID"},E("Business ID")),r.a.createElement(V.a.Collapse,{eventKey:"businessID"},r.a.createElement(P.a,{border:"light"},r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Text,null,l[a].business_id))))),r.a.createElement(P.a,null,r.a.createElement(V.a.Toggle,{as:P.a.Header,style:{cursor:"pointer"},eventKey:"businessDescription"},E("Business Description")),r.a.createElement(V.a.Collapse,{eventKey:"businessDescription"},r.a.createElement(P.a,{border:"light"},r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Text,null,l[a].description))))),r.a.createElement(P.a,null,r.a.createElement(V.a.Toggle,{as:P.a.Header,style:{cursor:"pointer"},eventKey:"businessCreationDate"},E("Business Created")),r.a.createElement(V.a.Collapse,{eventKey:"businessCreationDate"},r.a.createElement(P.a,{border:"light"},r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Text,null,s))))))),f[t],r.a.createElement(ce.a.Pane,{eventKey:"addPurpose"},r.a.createElement(V.a,{defaultActiveKey:"newPurpose"},r.a.createElement(P.a,null,r.a.createElement(V.a.Toggle,{as:P.a.Header,eventKey:"newPurpose"},E("New Purpose")),r.a.createElement(V.a.Collapse,{eventKey:"newPurpose"},r.a.createElement(P.a.Body,null,r.a.createElement(ie,{data:e,businessID:l[a].business_id})))))))))))))})),r.a.createElement(P.a,null,r.a.createElement(V.a.Toggle,{as:P.a.Header,eventKey:"addBusiness",style:{cursor:"pointer"}},r.a.createElement("span",null,r.a.createElement(oe.a,{fontSize:"small",style:{color:"var(--dark)"}}),"\xa0",E("Add Business"))),r.a.createElement(V.a.Collapse,{eventKey:"addBusiness"},r.a.createElement(P.a.Body,null,r.a.createElement(K,e)))));return r.a.createElement(r.a.Fragment,null,h)},pe=(t(202),t(257)),be=t(258),Ee=t(259),ge=t(260),fe=function(e){var a=Object.assign({namespace:"UserEditor",request:"update user",mode:"label"},e),t=a.barrelGetters,l=t.userData,s=t.accountNumber,o=(t.currencies,t.currencyAbbr,t.language,a.barrelFunctions),i=o.sendRequest,u=o.getReviser,m=o.getWorkplace,p=(a.barrelEventHandlers.onRedirect,Object(n.useState)(!1)),b=Object(c.a)(p,2),E=b[0],g=b[1],f=Object(n.useState)(!1),v=Object(c.a)(f,2),h=v[0],y=v[1],C=Object(n.useState)(!1),S=Object(c.a)(C,2),O=S[0],N=S[1],P=Object(n.useState)(!1),A=Object(c.a)(P,2),F=A[0],T=A[1],q=Object(n.useState)(!1),D=Object(c.a)(q,2),R=D[0],x=D[1],G=Object(n.useState)(!1),L=Object(c.a)(G,2),U=L[0],K=L[1];Object(n.useEffect)((function(){K(!!(E||h||O||F))}),[E,h,O,F]);var V=Object(d.c)([a.namespace]).t,H=function(){x(!R)},z={firstName:E?j.c().required(V("First name is required")):j.c().optional(),lastName:h?j.c().required(V("Last name is required")):j.c().optional(),email:O?j.c().email(V("Invalid email address")).required(V("Email is required")):j.c().optional(),password:F?j.c().required(V("No password provided")).min(8,V("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,V("Password is too weak")):j.c().optional()},J=j.b(z);if(null===l)return r.a.createElement(r.a.Fragment,null);var X=a.mode,M=l.firstname,$=l.lastname,Z=l.email,Y=l.currency_name,Q=l.currency_abbr,ee=("".concat(Y," (").concat(Q,")"),"label"==X?"".concat(M," ").concat($):r.a.createElement(_.a,{component:function(t){var n=t.handleSubmit,l=t.handleChange,c=(t.handleBlur,t.values),o=t.touched,i=(t.isValid,t.validateForm,t.errors);return r.a.createElement(k.a,{noValidate:!0,onSubmit:n},r.a.createElement(w,{title:V("Profile")},r.a.createElement(W.a,{variant:"flush"},r.a.createElement(W.a.Item,{as:"div",action:!0},r.a.createElement(k.a.Label,null,V("First name")),E?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(be.a,{onClick:function(){return g(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(pe.a,{onClick:function(){return g(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,M)),E&&r.a.createElement(k.a.Group,{controlId:"validationFormikFirstName"},r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"text",placeholder:V("Enter first name"),name:"firstName",value:c.firstName,onChange:l,isInvalid:!!i.firstName&&o.firstName}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},i.firstName)))),r.a.createElement(W.a.Item,{as:"div",action:!0},r.a.createElement(k.a.Label,null,V("Last name")),h?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(be.a,{onClick:function(){return y(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(pe.a,{onClick:function(){return y(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,$)),h&&r.a.createElement(k.a.Group,{controlId:"validationFormikLastName"},r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"text",placeholder:V("Enter last name"),name:"lastName",value:c.lastName,onChange:l,isInvalid:!!i.lastName&&o.lastName}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},i.lastName)))),null!==s&&r.a.createElement(W.a.Item,{as:"div",action:!0},r.a.createElement(k.a.Label,null,V("Email address")),O?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(be.a,{onClick:function(){return N(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(pe.a,{onClick:function(){return N(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})),r.a.createElement("br",null),r.a.createElement("small",null,Z)),O&&r.a.createElement(k.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{placeholder:V("Enter email"),name:"email",value:c.email,onChange:l,isInvalid:!!i.email&&o.email}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},i.email)))),r.a.createElement(W.a.Item,{as:"div",action:!0},r.a.createElement(k.a.Label,null,V("Password")),F?r.a.createElement("span",{style:{float:"right"}},r.a.createElement(be.a,{onClick:function(){return T(!1)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{float:"right"}},r.a.createElement(pe.a,{onClick:function(){return T(!0)},fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),F&&r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:R?"text":"password",placeholder:V("Enter new password"),name:"password",value:c.password,onChange:l,isInvalid:!!i.password&&o.password}),r.a.createElement(I.a.Append,null,r.a.createElement(I.a.Text,{id:"inputGroupAppend",onClick:H,style:{cursor:"pointer"}},R?r.a.createElement(Ee.a,{fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}):r.a.createElement(ge.a,{fontSize:"small",style:{color:"var(--dark)",cursor:"pointer"}}))),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},i.password)))))),r.a.createElement(k.a.Group,{controlId:"validationSubmitButton"},r.a.createElement(B,Object.assign({},e,{caption:V("Submit"),visible:U,marginTop:20,request:a.request,namespace:a.namespace})))))},validationSchema:J,onSubmit:function(e){e.personalID=s,E||(e.firstname=null),h||(e.lastname=null),O||(e.email=l.email),F||(e.password=null),function(e){null!==e&&(e.reviser=u(),e.workplace=m(),i({req:a.request,data:e}))}(e)},initialValues:{firstName:l.firstname,lastName:l.lastname,email:l.email,password:""}}));return r.a.createElement(r.a.Fragment,null,ee)},ve=t(261),he=function(e){var a=Object.assign({request:"register currency",namespace:"Currencies"},e),t=a.barrelGetters,n=t.currencies,l=t.countCurrencies,s=t.activePageCurrencies,c=t.currenciesPerPage,o=t.currencyAbbr,i=t.userData,u=a.barrelSetters,m=(u.setActivePageCurrencies,u.setCurrencyAbbr),p=a.barrelFunctions,b=(p.getReviser,p.getWorkplace,p.sendRequest),E=p.getCurrencies,g=p.formatExchangeRate,f=Object(d.c)([a.namespace]).t,v=function(e){m(e.target.id),b({req:"register user currency",data:{email:i.email,currency_id:e.target.id}})},h=function(e){switch(console.log("on page select",e),e){case"First":e=1;break;case"Prev":e=s>1?s-1:1;break;case"Next":e=s<Math.ceil(l/c)?s+1:Math.ceil(l/c);break;case"Last":e=Math.ceil(l/c)}E(e)};return r.a.createElement(_.a,{component:function(a){a.handleSubmit,a.handleChange,a.handleBlur,a.values,a.touched,a.isValid,a.validateForm,a.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center"}},f("Select")),r.a.createElement("th",{style:{textAlign:"center"}},f("Abbr")),r.a.createElement("th",{style:{textAlign:"center"}},f("Name")),r.a.createElement("th",{style:{textAlign:"center"}},f("Region")),r.a.createElement("th",{style:{textAlign:"center"}},f("Rate")))),r.a.createElement("tbody",null,null!==n&&n.map((function(e,a){var t=e.name,n=e.abbr,l=e.rate,s=e.region;e.status,e.sponsors;return r.a.createElement("tr",{key:a},r.a.createElement("td",{style:{textAlign:"center"}},r.a.createElement(k.a.Check,{type:"radio",checked:o===n,name:"selected-currency",id:n,"aria-label":"option 1",onChange:v})),r.a.createElement("td",{style:{textAlign:"center"}},n),r.a.createElement("td",{style:{textAlign:"left"}},t),r.a.createElement("td",{style:{textAlign:"left"}},s),r.a.createElement("td",{style:{textAlign:"right"}},g(l)))})))),r.a.createElement(M,Object.assign({},e,{pages:Math.ceil(l/c),active:s,onClick:h})))},initialValues:{curr_abbr:"",curr_title:"",curr_region:"",curr_rate:1}})},ye=function(e){var a=Object.assign({namespace:"CurrencyRegistration",request:"register currency"},e),t=a.barrelGetters,n=(t.currencies,t.countCurrencies,t.activePageCurrencies,t.currenciesPerPage,a.barrelSetters.setActivePageCurrencies,a.barrelFunctions),l=n.getReviser,s=n.getWorkplace,c=n.sendRequest,o=(n.getCurrencies,Object(d.c)(["CurrencyRegistration"]).t),i=j.b({curr_abbr:j.c().required(o("Currency abbreviation is required")).min(3,o("Currency abbreviation is too short")).max(5,o("Currency abbreviation is too long")),curr_title:j.c().required(o("Currency name is required")).min(3,o("Currency name is too short")).max(70,o("Currency name is too long")),curr_region:j.c().required(o("Currency region is required")).min(3,o("Currency region is too short")).max(70,o("Currency region is too long")),curr_rate:j.c().required(o("Exchange rate is required")).matches(new RegExp(o("Exchange Rate Regex")),o("Wrong exchange rate format"))});return r.a.createElement(_.a,{component:function(t){var n=t.handleSubmit,l=t.handleChange,s=(t.handleBlur,t.values),c=t.touched,i=(t.isValid,t.validateForm,t.errors);return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{noValidate:!0,onSubmit:n},r.a.createElement(k.a.Group,{controlId:"validationFormikCurrAbbr"},r.a.createElement(k.a.Label,null,o("Abbreviation")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_abbr",value:s.curr_abbr,onChange:l,isInvalid:!!i.curr_abbr&&c.curr_abbr}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},i.curr_abbr))),r.a.createElement(k.a.Group,{controlId:"validationFormikCurrName"},r.a.createElement(k.a.Label,null,o("Currency Name")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_title",value:s.curr_title,onChange:l,isInvalid:!!i.curr_title&&c.curr_title}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},i.curr_title))),r.a.createElement(k.a.Group,{controlId:"validationFormikCurrRegion"},r.a.createElement(k.a.Label,null,o("Currency Region")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_region",value:s.curr_region,onChange:l,isInvalid:!!i.curr_region&&c.curr_region}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},i.curr_region))),r.a.createElement(k.a.Group,{controlId:"validationFormikCurrRate"},r.a.createElement(k.a.Label,null,o("Initial Exchange Rate")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"string",placeholder:"","aria-describedby":"inputGroupPrepend",name:"curr_rate",value:s.curr_rate,onChange:l,isInvalid:!!i.curr_rate&&c.curr_rate}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},i.curr_rate))),r.a.createElement(B,Object.assign({},e,{caption:o("Submit"),request:a.request,namespace:a.namespace}))))},validationSchema:i,onSubmit:function(e){return console.log(e),e.reviser=l(),e.workplace=s(),c({req:a.request,data:e})},initialValues:{curr_abbr:"",curr_title:"",curr_region:"",curr_rate:1}})},Ce=function(e){var a=Object.assign({namespace:"Summary"},e),t=a.barrelGetters.accountNumber,l=a.barrelFunctions,s=(l.getCurrencies,l.getBusinesses),u=Object(d.c)(a.namespace).t,m=r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{collapseOnSelect:!0,expand:"md",variant:"light",style:{borderRadius:"5px",background:"transparent !important",backgroundColor:"",boxShadow:"none"}},r.a.createElement(v.a.Brand,{href:"/"},r.a.createElement("img",{src:"gfx/zlogo_light.png",width:"auto",height:"30",className:"d-inline-block align-top",alt:u("Logo")})),r.a.createElement(v.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(h.a,{className:"mr-auto"},null!==t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a.Link,{eventKey:"balance",href:"/balance"},u("Balance")),r.a.createElement(h.a.Link,{eventKey:"transfer",href:"/transfer"},u("Transfer")),r.a.createElement(h.a.Link,{eventKey:"my-business",onClick:s,href:"#"},u("Business")),r.a.createElement(h.a.Link,{eventKey:"currency",href:"/currency"},u("Currency")))),r.a.createElement(h.a,null,r.a.createElement(h.a.Link,{eventKey:"profile",href:"/profile"},r.a.createElement(fe,e))),r.a.createElement(h.a,null,r.a.createElement(h.a.Link,{eventKey:"sign-out",href:"/sign-out"},r.a.createElement(O.a,{style:{color:"var(--dark)"}})))))),p=r.a.createElement(i.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:function(){return null!==t?ne(e):U(e)}}),r.a.createElement(o.b,{exact:!0,path:"/summary",component:function(){return null!==t?ne(e):U(e)}}),r.a.createElement(o.b,{exact:!0,path:"/account-registration",component:function(){return U(e)}}),r.a.createElement(o.b,{exact:!0,path:"/profile",component:function(){return fe(Object(f.a)({},e,{mode:"profile"}))}}),r.a.createElement(o.b,{exact:!0,path:"/currency",component:function(){return function(e){var a=Object.assign({namespace:"CurrencyContainer"},e),t=a.barrelGetters,n=t.accordionViewCurrency,l=t.activePageCurrencies,s=a.barrelSetters.setAccordionViewCurrency,c=a.barrelFunctions.getCurrencies,o=Object(d.c)([a.namespace]).t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{defaultActiveKey:n},r.a.createElement(P.a,null,r.a.createElement(V.a.Toggle,{as:P.a.Header,eventKey:"currencies",style:{cursor:"pointer"},onClick:function(){s("currencies"),c(l)}},o("Currencies")),r.a.createElement(V.a.Collapse,{eventKey:"currencies"},r.a.createElement(P.a.Body,null,r.a.createElement(he,e)))),r.a.createElement(P.a,null,r.a.createElement(V.a.Toggle,{as:P.a.Header,eventKey:"currencyRegistration",style:{cursor:"pointer"},onClick:function(){s("currencyRegistration")}},o("Currency Registration")),r.a.createElement(V.a.Collapse,{eventKey:"currencyRegistration"},r.a.createElement(P.a.Body,null,r.a.createElement(ye,e))))))}(Object(f.a)({},e))}}),r.a.createElement(o.b,{exact:!0,path:"/business-registration",component:function(){return K(e)}}),r.a.createElement(o.b,{exact:!0,path:"/my-business",component:function(){return de(e)}}),r.a.createElement(o.b,{exact:!0,path:"/balance",component:function(){return ne(e)}}),r.a.createElement(o.b,{exact:!0,path:"/transfer",component:function(){return function(e){var a=Object.assign({},e),t=a.barrelGetters,l=t.accountNumber,s=t.transferType,o=a.barrelFunctions.format,i=a.barrelEventHandlers.onTransferTypeChange,u=Object(d.c)("Transfer").t,m=a.data,p=s,b=Object(n.useState)(null),E=Object(c.a)(b,2),g=E[0],f=E[1],v=function(e){i(e)},h=[{name:u("U2S"),link:"#u2s"},{name:u("U2U"),link:"#u2u"},{name:u("U2B"),link:"#u2b"}];return Object(n.useEffect)((function(){if(null!==p)switch(p){case"#u2s":f(r.a.createElement(re,{title:u("Transfer to account"),args:a,navigation:h,navigationdefaultActiveKey:p,onNavigationClick:v}));break;case"#u2u":f(r.a.createElement(le,{title:u("Transfer to account"),args:a,navigation:h,navigationdefaultActiveKey:p,onNavigationClick:v}));break;case"#u2b":f(r.a.createElement(se,{title:u("Transfer to account"),args:a,navigation:h,navigationdefaultActiveKey:p,onNavigationClick:v}))}}),[m,o,p]),null===l?r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{variant:"warning"},r.a.createElement(N.a.Heading,null,u("Account not yet registered")),r.a.createElement("p",null,r.a.createElement(d.a,{i18nKey:"Balance:Please set up your account first."},"Please set up your account first. Use this"," ",r.a.createElement("a",{href:"/account-registration"},"link"),".")))):r.a.createElement(r.a.Fragment,null,g)}(e)}})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{fluid:"md"},r.a.createElement(C.a,null,r.a.createElement(S.a,null,m,r.a.createElement("div",{style:{height:"7px"}}))),r.a.createElement(C.a,null,r.a.createElement(S.a,null,p))))},Se={uri:{ENDPOINT:"http://localhost:9000"}};switch(window&&window.location&&window.location.hostname){case"localhost":E=Se;break;case"dev.zime.lv":E={uri:{ENDPOINT:"https://dev.zime.lv"}};break;case"zime.lv":E={uri:{ENDPOINT:"https://zime.lv"}};break;default:E=Se}var Oe=Object(f.a)({},E),ke=t(171),Ie=t.n(ke).a.connect(Oe.uri.ENDPOINT,{secure:!0,reconnect:!0}),Ne=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a&&console.log("request: ".concat(e.req),e),Ie.emit("onDataReceived",e),!0},Pe=function(e){var a=Object.assign({},e),t=(a.barrelGetters.request,a.barrelFunctions),n=t.getReviser,l=t.getWorkplace,s=t.sendRequest,c=Object(d.c)("LogIn").t,o=j.b({email:j.c().email(c("Invalid email address")).required(c("Email is required")),password:j.c().required(c("No password provided"))});return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{component:function(a){var t=a.handleSubmit,n=a.handleChange,l=(a.handleBlur,a.values),s=a.touched,o=(a.isValid,a.validateForm,a.errors);return r.a.createElement(k.a,{noValidate:!0,onSubmit:t},r.a.createElement("h3",null,c("Sign In")),r.a.createElement(k.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(k.a.Label,null,c("Email address")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{placeholder:c("Enter email"),name:"email",value:l.email,onChange:n,isInvalid:!!o.email&&s.email}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.email))),r.a.createElement(k.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(k.a.Label,null,c("Password")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"password",placeholder:c("Enter password"),name:"password",value:l.password,onChange:n,isInvalid:!!o.password&&s.password}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.password))),r.a.createElement(k.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(B,Object.assign({},e,{caption:c("Submit"),request:"sign in user",namespace:"LogIn"}))),r.a.createElement(y.a,{fluid:"md"},r.a.createElement(C.a,null,r.a.createElement(S.a,null,r.a.createElement("p",{className:"other-options text-left"},r.a.createElement(d.a,{i18nKey:"LogIn:Not yet registered"},"Not yet ",r.a.createElement("a",{href:"/sign-up"},"registered?")))),r.a.createElement(S.a,null,r.a.createElement("p",{className:"other-options text-right"},r.a.createElement(d.a,{i18nKey:"LogIn:Forgot password"},"Forgot ",r.a.createElement("a",{href:"/reset"},"password?")))))))},validationSchema:o,onSubmit:function(e){!function(e){e.reviser=n(),e.workplace=l(),s({req:"sign in user",data:e})}(e)},initialValues:{email:"",password:"",rememberMe:""}}))},we=function(e){var a=Object.assign({request:"register user",namespace:"SignUp"},e),t=a.barrelGetters.language,l=a.barrelFunctions,s=l.getReviser,o=l.getWorkplace,i=l.sendRequest,u=(a.barrelEventHandlers.onSignUp,Object(n.useState)(!1)),m=Object(c.a)(u,2),p=m[0],b=m[1],E=Object(d.c)(a.namespace).t,g=j.b({firstName:j.c().required(E("First name is required")),lastName:j.c().required(E("Last name is required")),email:j.c().email(E("Invalid email address")).required(E("Email is required")),password:j.c().required(E("No password provided")).min(8,E("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,E("Password is too weak"))}),f=function(){b(!p)};return r.a.createElement(_.a,{component:function(t){var n=t.handleSubmit,l=t.handleChange,s=(t.handleBlur,t.values),c=t.touched,o=(t.isValid,t.validateForm,t.errors);return r.a.createElement(k.a,{noValidate:!0,onSubmit:n},r.a.createElement("h3",null,E("Sign Up")),r.a.createElement(k.a.Group,{controlId:"validationFormikFirstName"},r.a.createElement(k.a.Label,null,E("First name")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"text",placeholder:E("Enter first name"),name:"firstName",value:s.firstName,onChange:l,isInvalid:!!o.firstName&&c.firstName}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.firstName))),r.a.createElement(k.a.Group,{controlId:"validationFormikLastName"},r.a.createElement(k.a.Label,null,E("Last name")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:"text",placeholder:E("Enter last name"),name:"lastName",value:s.lastName,onChange:l,isInvalid:!!o.lastName&&c.lastName}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.lastName))),r.a.createElement(k.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(k.a.Label,null,E("Email address")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{placeholder:E("Enter email"),name:"email",value:s.email,onChange:l,isInvalid:!!o.email&&c.email}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.email))),r.a.createElement(k.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(k.a.Label,null,E("Password")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:p?"text":"password",placeholder:E("Enter password"),name:"password",value:s.password,onChange:l,isInvalid:!!o.password&&c.password}),r.a.createElement(I.a.Append,null,r.a.createElement(I.a.Text,{id:"inputGroupAppend",onClick:f,style:{cursor:"pointer"}},p?r.a.createElement(Ee.a,{fontSize:"small",style:{color:"var(--dark)"}}):r.a.createElement(ge.a,{fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.password))),r.a.createElement(k.a.Group,{controlId:"validationSubmitButton"},r.a.createElement(B,Object.assign({},e,{caption:E("Submit"),request:a.request,namespace:a.namespace}))),r.a.createElement("p",{className:"other-options text-right"},r.a.createElement(d.a,{i18nKey:"SignUp:Already registered"},"Already registered ",r.a.createElement("a",{href:"/sign-in"},"sign in?"))))},validationSchema:g,onSubmit:function(e){!function(e){null!==e&&(e.reviser=s(),e.workplace=o(),e.language=t,e.validateEmail=!0,i({req:a.request,data:e}))}(e)},initialValues:{firstName:"",lastName:"",email:"",password:""}})},_e=t(32),je=function(e,a){var t=Object(n.useState)((function(){var t=window.localStorage.getItem(a);return null!==t?JSON.parse(t):e})),r=Object(c.a)(t,2),l=r[0],s=r[1];return Object(n.useEffect)((function(){window.localStorage.setItem(a,JSON.stringify(l))}),[a,l]),[l,s]},Ae=function(e){var a=Object.assign({},e.data),t=a.barrelGetters,n=t.error,l=t.info,s=a.barrelEventHandlers.onAlertClose;if(null!==n){var c=Object(d.c)("Errors").t;return r.a.createElement(N.a,{variant:"danger",onClose:function(){return s()},dismissible:!0},c(n))}if(null!==l){var o=Object(d.c)("Infos").t;return r.a.createElement(N.a,{variant:"info",onClose:function(){return s()},dismissible:!0},o(l))}return r.a.createElement(r.a.Fragment,null)},Fe=function(e){var a=Object.assign({namespace:"CurrencyContainer"},e),t=a.barrelGetters.userData,n=a.barrelFunctions.sendRequest,l=(Object(d.c)("LanguageSelector").t,function(e){g.changeLanguage(e)}),s=function(e){l(e),null!==t&&n({req:"register user language",data:{email:t.email,language:e}})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(H.a,{pill:!0,variant:"light",style:{cursor:"pointer"},onClick:function(){s("lv")}},"lv")," ",r.a.createElement(H.a,{pill:!0,variant:"light",style:{cursor:"pointer"},onClick:function(){s("en")}},"en"))},Te=function(){var e=je(!1),a=Object(c.a)(e,2),t=a[0],l=a[1],s=je(null,"request"),m=Object(c.a)(s,2),p=m[0],b=m[1],E=je(Object(u.a)(),"session"),f=Object(c.a)(E,2),v=f[0],h=f[1],y=je(!1,"connected"),C=Object(c.a)(y,2),S=C[0],O=C[1],N=je(!1,"signedIn"),P=Object(c.a)(N,2),w=P[0],A=P[1],F=je("Z","currencyAbbr"),T=Object(c.a)(F,2),q=T[0],D=T[1],R=je(null,"currencies"),x=Object(c.a)(R,2),G=x[0],U=x[1],K=je(null,"transactions"),V=Object(c.a)(K,2),H=V[0],z=V[1],J=je(null,"shares"),W=Object(c.a)(J,2),X=W[0],M=W[1],$=je("balance","accordionView"),Z=Object(c.a)($,2),Y=Z[0],Q=Z[1],ee=je(null,"accordionViewCurrency"),ae=Object(c.a)(ee,2),te=ae[0],ne=ae[1],re=je(null,"countCurrencies"),le=Object(c.a)(re,2),se=le[0],ce=le[1],oe=je(null,"countTransactions"),ie=Object(c.a)(oe,2),ue=ie[0],me=ie[1],de=je(null,"countShares"),pe=Object(c.a)(de,2),be=pe[0],fe=pe[1],ve=je(1,"activePageCurrencies"),he=Object(c.a)(ve,2),ye=he[0],Se=he[1],Oe=je(1,"activePageTransactions"),ke=Object(c.a)(Oe,2),Te=ke[0],qe=ke[1],De=je(1,"activePageShares"),Re=Object(c.a)(De,2),xe=Re[0],Ge=Re[1],Le=je(5,"currenciesPerPage"),Be=Object(c.a)(Le,2),Ue=Be[0],Ke=Be[1],Ve=je(5,"transactionsPerPage"),He=Object(c.a)(Ve,2),ze=He[0],Je=He[1],We=je(5,"sharesPerPage"),Xe=Object(c.a)(We,2),Me=Xe[0],$e=Xe[1],Ze=je(null,"userData"),Ye=Object(c.a)(Ze,2),Qe=Ye[0],ea=Ye[1],aa=je(null,"uid"),ta=Object(c.a)(aa,2),na=ta[0],ra=ta[1],la=je(null,"accountNumber"),sa=Object(c.a)(la,2),ca=sa[0],oa=sa[1],ia=je(null,"accountType"),ua=Object(c.a)(ia,2),ma=ua[0],da=ua[1],pa=je(null,"userBusinesses"),ba=Object(c.a)(pa,2),Ea=ba[0],ga=ba[1],fa=je(null,"activeBusiness"),va=Object(c.a)(fa,2),ha=va[0],ya=va[1],Ca=je(null,"businessPurposes"),Sa=Object(c.a)(Ca,2),Oa=Sa[0],ka=Sa[1],Ia=je(null,"activeBusinesPurpose"),Na=Object(c.a)(Ia,2),Pa=Na[0],wa=Na[1],_a=je(null,"purposeShareholders"),ja=Object(c.a)(_a,2),Aa=ja[0],Fa=ja[1],Ta=Object(n.useState)(null),qa=Object(c.a)(Ta,2),Da=qa[0],Ra=qa[1],xa=Object(n.useState)(null),Ga=Object(c.a)(xa,2),La=Ga[0],Ba=Ga[1],Ua=Object(n.useState)(null),Ka=Object(c.a)(Ua,2),Va=Ka[0],Ha=Ka[1],za=Object(n.useState)(null),Ja=Object(c.a)(za,2),Wa=Ja[0],Xa=Ja[1],Ma=Object(n.useState)(null),$a=Object(c.a)(Ma,2),Za=$a[0],Ya=$a[1],Qa=Object(n.useState)(null),et=Object(c.a)(Qa,2),at=et[0],tt=et[1],nt=Object(n.useState)(null),rt=Object(c.a)(nt,1)[0],lt=je(g.options.fallbackLng[0],"language"),st=Object(c.a)(lt,2),ct=st[0],ot=st[1],it=je("#u2s","transferType"),ut=Object(c.a)(it,2),mt=ut[0],dt=ut[1],pt=Object(n.useState)(""),bt=Object(c.a)(pt,2),Et=bt[0],gt=bt[1],ft=Object(n.useState)(null),vt=Object(c.a)(ft,2),ht=vt[0],yt=vt[1],Ct=Object(n.useState)(null),St=Object(c.a)(Ct,2),Ot=St[0],kt=St[1],It={debug:t,request:p,session:v,currencies:JSON.parse(G),transactions:JSON.parse(H),shares:JSON.parse(X),accordionView:Y,accordionViewCurrency:te,countCurrencies:se,countTransactions:ue,countShares:be,activePageCurrencies:ye,activePageTransactions:Te,activePageShares:xe,currenciesPerPage:Ue,transactionsPerPage:ze,sharesPerPage:Me,userData:JSON.parse(Qe),redirectTo:Da,lastInsertId:La,connected:S,signedIn:w,currencyAbbr:q,accountNumber:ca,accountType:ma,uid:na,userBusinesses:JSON.parse(Ea),activeBusiness:ha,businessPurposes:JSON.parse(Oa),activeBusinesPurpose:Pa,purposeShareholders:JSON.parse(Aa),tmrConnected:rt,validateTokenEmail:Va,validateTokenPasswordReset:Wa,passwordResetTokenValidated:Za,passwordResetTokenEmail:at,language:ct,transferType:mt,accountPhotoPath:Et,error:ht,info:Ot},Nt={setDebug:l,setRequest:b,setSession:h,setCurrencies:U,setTransactions:z,setShares:M,setAccordionView:Q,setAccordionViewCurrency:ne,setCountCurrencies:ce,setCountTransactions:me,setCountShares:fe,setActivePageCurrencies:Se,setActivePageTransactions:qe,setActivePageShares:Ge,setCurrenciesPerPage:Ke,setTransactionsPerPage:Je,setSharesPerPage:$e,setConnected:O,setLanguage:ot,setUserData:ea,setSignedIn:A,setCurrencyAbbr:D,setRedirectTo:Ra,setLastInsertId:Ba,setAccountNumber:oa,setAccountType:da,setUID:ra,setUserBusinesses:ga,setActiveBusiness:ya,setBusinessPurposes:ka,setActiveBusinesPurpose:wa,setPurposeShareholders:Fa,setAccountPhotoPath:gt,setValidateTokenEmail:Ha,setValidateTokenPasswordReset:Xa,setPasswordResetTokenValidated:Ya,setPasswordResetTokenEmail:tt};!function(e){var a=Object(n.useState)(null),t=Object(c.a)(a,2),r=t[0],l=t[1];Ie.on("onDataReceived",(function(e){l(e)})),Object(n.useEffect)((function(){null!==r&&e(r)}),[r])}((function(e){_t({args:e,barrels:Lt})}));var Pt=function(e){var a=e.req,n=e.data,r=void 0===n?null:n;return!!wt({req:a,data:r,session:v,uid:"STA",barrels:Lt})||(console.log("THIS SHOULD NOT BE REACHED"),Ne({req:a,uid:"STA",session:v,data:r},t))},wt=function(e){var a=e.req,t=e.data,n=e.session,r=e.uid,l=e.barrels;return b(a),function(e){var a=Object.assign({},e),t=a.req,n=a.data,r=a.session,l=a.uid,s=a.barrels,c=s.barrelGetters,o=(c.accountNumber,c.userBusinesses,c.debug),i=s.barrelSetters,u=i.setUserData,m=i.setUID,d=i.setAccountNumber,p=(i.setUserBusinesses,s.barrelFunctions),b=(p.sendRequest,p.showMessage,!1),E=function(e,t){b||e!==a.req&&"default"!==e||(t(),b=!0)};return E("sign in user",(function(){u(JSON.stringify(n)),Ne({req:t,data:n,uid:l,session:r},o)})),E("register account",(function(){m(n.personalID),d(n.personalID),Ne({req:t,data:n,uid:l,session:r},o)})),E("default",(function(){return Ne({req:t,data:n,uid:l,session:r},o),!0})),b}({req:a,data:t,session:n,uid:r,barrels:l})},_t=function(e){var a=e.args,t=e.barrels;return"error"===a.status?function(e){var a=e.args,t=e.barrels,n=Object.assign({},a),r=t.barrelSetters,l=r.setRequest,s=r.setUID,o=r.setAccountNumber,i=t.barrelFunctions.showMessage,u=n.req,m=n.error,d=n.context;console.log("ERROR: ".concat(u),m,d,n,t);var p=!1,b=function(e,a){if(!p){var t=Object(c.a)(e,2),n=t[0],r=t[1];return(n===u&&r===m.code||"unknown"===n)&&(a(),l(null),p=!0,!0)}};return b(["transfer U2S","NO_ROWS_CHANGED"],(function(){return i("INVALID_TRANSFER","error"),!0})),b(["transfer U2U","NO_ROWS_CHANGED"],(function(){return i("INVALID_TRANSFER","error"),!0})),b(["transfer U2B","NO_ROWS_CHANGED"],(function(){return i("INVALID_TRANSFER","error"),!0})),b(["register user","NO_ROWS_CHANGED"],(function(){return i("INVALID_USER_REGISTRATION","error"),!0})),b(["validate email token","NO_ROWS_CHANGED"],(function(){return i("TOKEN_VALIDATION_FAILED","error"),!0})),b(["validate password reset token","NO_ROWS_CHANGED"],(function(){return i("TOKEN_VALIDATION_FAILED","error"),!0})),b(["reset password","NO_ROWS_CHANGED"],(function(){return!0})),b(["register user language","NO_ROWS_CHANGED"],(function(){return!0})),b(["register account","ER_DUP_ENTRY"],(function(){return s(null),o(null),i("DUPLICATE_ACCOUNT_REGISTRATION","error"),!0})),b(["register account","ER_FOREIGN_DUPLICATE_KEY_WITH_CHILD_INFO"],(function(){return s(null),o(null),i("DUPLICATE_ACCOUNT_REGISTRATION","error"),!0})),b(["register shareholder","ER_NO_REFERENCED_ROW_2"],(function(){return i("USER_NOT_FOUND","error"),!0})),b(["unknown"],(function(){return i(m.code,"error"),!0})),!1}({args:a,uid:na,barrels:t}):function(e){var a=e.args,t=e.barrels,n=Object.assign({},a),r=t.barrelGetters,l=r.debug,s=r.currencies,o=r.transactions,i=r.shares,u=(r.transactionsPerPage,r.sharesPerPage,r.userData),m=(r.accountNumber,r.uid,r.userBusinesses),d=r.businessPurposes,p=r.purposeShareholders,b=r.activeBusinesPurpose,E=r.lastInsertId,g=t.barrelSetters,f=g.setRequest,v=g.setSession,h=g.setCurrencies,y=g.setTransactions,C=g.setShares,S=g.setCountCurrencies,O=g.setCountTransactions,k=g.setCountShares,I=g.setConnected,N=g.setUserData,P=g.setSignedIn,w=g.setCurrencyAbbr,_=g.setRedirectTo,j=g.setLastInsertId,A=g.setAccountNumber,F=g.setUID,T=g.setUserBusinesses,q=g.setBusinessPurposes,D=g.setPurposeShareholders,R=g.setAccountPhotoPath,x=g.setPasswordResetTokenValidated,G=g.setPasswordResetTokenEmail,L=t.barrelFunctions,B=L.sendRequest,U=(L.getBusinesses,L.getAccountData),K=L.getTransactionById,V=(L.getBusinessPurposes,L.getPurposeShareholders),H=L.showMessage,z=L.changeLanguage,J=t.barrelEventHandlers,W=(J.onTransferSuccess,J.onRedirect),X=(J.onLogOut,n.req);n.status;l&&console.log("response: ".concat(X),n,t);var M=!1,$=function(e,a){if(!M){var t=Object(c.a)(e,2),r=t[0],l=t[1];(r===n.req&&l===n.status||"unknown"===r)&&(a()&&f(null),M=!0)}};return $(["start session","success"],(function(){return I(!0),!0})),$(["end session","success"],(function(){return console.log("ON END SESSION"),I(!1),!0})),$(["register user","pending"],(function(){return!1})),$(["register user","continue"],(function(){return"INSERT INTO users"===n.name&&!(n.results.insertId>0)})),$(["register user","success"],(function(){return W("/validate-email"),!0})),$(["validate email token","continue"],(function(){return"UPDATE validation tokens"===n.name?!(n.results.affectedRows>0):"UPDATE users"===n.name&&(!(n.results.affectedRows>0)||(W("/sign-in"),!0))})),$(["validate password reset token","success"],(function(){return x(!0),!0})),$(["sign in user","continue"],(function(){return 1===n.data.status?(N(JSON.stringify(n.data)),A(n.data.uid),v(n.data.email),w(n.data.currency_abbr),z(n.data.language),P(!0),W("/summary"),!1):0===n.data.status?(W("/validate-email"),!0):2===n.data.status?(_("/sign-out"),H("ACCOUNT_SUSPENDED","error"),!0):3===n.data.status?(_("/sign-out"),H("ACCOUNT_DELETED","error"),!0):void 0})),$(["sign in user","finished"],(function(){return 1===n.rowNum||(H("INVALID_SIGN_IN","error"),_("/sign-out")),!0})),$(["update user","success"],(function(){return B({req:"get user",data:{email:u.email}}),!1})),$(["get user","continue"],(function(){return N(JSON.stringify(n.data)),!1})),$(["get user","finished"],(function(){return 1===n.rowNum||_("/sign-out"),!0})),$(["get user businesses","continue"],(function(){return T(null===m?JSON.stringify([n.data]):JSON.stringify([].concat(Object(_e.a)(m),[n.data]))),!1})),$(["get user businesses","finished"],(function(){return _("/my-business"),!0})),$(["get business purposes","continue"],(function(){return q(null===d?JSON.stringify([n.data]):JSON.stringify([].concat(Object(_e.a)(d),[n.data]))),!1})),$(["get business purposes","finished"],(function(){return!0})),$(["get purpose shareholders","continue"],(function(){return D(null===p?JSON.stringify([n.data]):JSON.stringify([].concat(Object(_e.a)(p),[n.data]))),!1})),$(["get purpose shareholders","finished"],(function(){return!0})),$(["get business by id","continue"],(function(){return T(null===m?JSON.stringify([n.data]):JSON.stringify([].concat(Object(_e.a)(m),[n.data]))),!1})),$(["get business by id","finished"],(function(){return!0})),$(["get purpose by id","continue"],(function(){return q(null===d?JSON.stringify([n.data]):JSON.stringify([].concat(Object(_e.a)(d),[n.data]))),!1})),$(["get purpose by id","finished"],(function(){return!0})),$(["get shareholder by id","continue"],(function(){return D(null===p?JSON.stringify([n.data]):JSON.stringify([].concat(Object(_e.a)(p),[n.data]))),!1})),$(["get shareholder by id","finished"],(function(){return!0})),$(["upload file","finished"],(function(){return R(n+"?r="+Math.random()),!0})),$(["register account","continue"],(function(){return n.results.affectedRows<1&&(F(null),A(null),H("INVALID_DATA","error"),!0)})),$(["register account","success"],(function(){return U(),!1})),$(["get account data","continue"],(function(){return 1===n.rowNum?(N(JSON.stringify(n.data)),!1):(H("INVALID_DATA","error"),!0)})),$(["get account data","finished"],(function(){return!0})),$(["transfer U2S","pending"],(function(){return!1})),$(["transfer U2S","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(j(n.results.insertId),!1))})),$(["transfer U2S","success"],(function(){return K(E),!1})),$(["transfer U2U","pending"],(function(){return!1})),$(["transfer U2U","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(j(n.results.insertId),!1))})),$(["transfer U2U","success"],(function(){return K(E),!1})),$(["transfer U2B","pending"],(function(){return!1})),$(["transfer U2B","continue"],(function(){return"INSERT INTO transactions"===n.name&&(!(n.results.insertId>0)||(j(n.results.insertId),!1))})),$(["transfer U2B","success"],(function(){return K(E),!1})),$(["register business","continue"],(function(){return!(n.results.insertId>0)||(j(n.results.insertId),!1)})),$(["register business","success"],(function(){return B({req:"get business by id",data:{id:E}}),!1})),$(["register currency","continue"],(function(){return!(n.results.insertId>0)||(j(n.results.insertId),!1)})),$(["register currency","success"],(function(){return B({req:"get currency by id",data:{id:E}}),!1})),$(["get currencies","continue"],(function(){return"SELECT currencies"===n.name?h(null===s?JSON.stringify([n.results]):JSON.stringify([].concat(Object(_e.a)(s),[n.results]))):"COUNT currencies"===n.name&&S(n.results.count_currencies),!1})),$(["get currencies","finished"],(function(){return _("/currency"),!0})),$(["get currency by id","continue"],(function(){return h(null===s?JSON.stringify([n.data]):JSON.stringify([].concat(Object(_e.a)(s),[n.data]))),!1})),$(["get currency by id","finished"],(function(){return!0})),$(["get transactions","continue"],(function(){return"SELECT transactions"===n.name?y(null===o?JSON.stringify([n.results]):JSON.stringify([].concat(Object(_e.a)(o),[n.results]))):"COUNT transactions"===n.name&&O(n.results.count_transaction_positions),!1})),$(["get transactions","finished"],(function(){return _("/balance"),!0})),$(["get shares","continue"],(function(){return"SELECT shares"===n.name?C(null===i?JSON.stringify([n.results]):JSON.stringify([].concat(Object(_e.a)(i),[n.results]))):"COUNT shares"===n.name&&k(n.results.count_shares),!1})),$(["get shares","finished"],(function(){return!0})),$(["get transaction by id","continue"],(function(){return y(null===o?JSON.stringify([n.data]):JSON.stringify([].concat(Object(_e.a)(o),[n.data]))),!1})),$(["get transaction by id","finished"],(function(){return U(),!1})),$(["register purpose","continue"],(function(){return!(n.results.insertId>0)||(j(n.results.insertId),!1)})),$(["register purpose","success"],(function(){return B({req:"get purpose by id",data:{id:E}}),!1})),$(["register shareholder","continue"],(function(){if(!(n.results.insertId>0))return!0;j(n.results.insertId)})),$(["register shareholder","success"],(function(){return V(b),!1})),$(["change share","success"],(function(){return!0})),$(["remove shareholder","success"],(function(){return V(b),!1})),$(["reset password","success"],(function(){return x(!1),!0})),$(["change password","success"],(function(){return x(null),G(null),W("/sign-in"),H("PASSWORD_CHANGE_SUCCESS","info"),!0})),$(["unknown"],(function(){return!1})),M}({args:a,uid:na,barrels:t})},jt=function(){yt(null),kt(null)},At=function(e){var a=window.location.search;return new URLSearchParams(a).get(e)},Ft=function(e){var a=e.token,t=e.email;Pt({req:"validate email token",data:{token:a,email:t}})},Tt={sendRequest:Pt,showMessage:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";"error"===a?yt(e):kt(e)},hideMessage:jt,changeLanguage:function(e){g.changeLanguage(e),ot(e)},format:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Z";return new Intl.NumberFormat(ct,{notation:"standard",minimumFractionDigits:2}).format(e)+" "+a},formatPerCent:function(e){return new Intl.NumberFormat(ct,{notation:"standard",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)+"%"},formatExchangeRate:function(e){return new Intl.NumberFormat(ct,{notation:"standard",minimumFractionDigits:5,maximumFractionDigits:5}).format(e)},formatDate:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"},t=new Date(e);return new Intl.DateTimeFormat(ct,a).format(t)},sendEmailValidationRequest:Ft,getUrlParam:At,getAccountData:function(){Pt({req:"get account data",data:{uid:ca}})},getTransactionById:function(e){Pt({req:"get transaction by id",data:{id:e}})},getBusinesses:function(){ga(null),Pt({req:"get user businesses",data:{uid:ca}})},getBusinessPurposes:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==a&&(ya(a),wa(null)),ka(null),Pt({req:"get business purposes",data:{business_id:e}})},getPurposeShareholders:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==a&&wa(e),Fa(null),Pt({req:"get purpose shareholders",data:{purpose_id:e}})},getCurrencies:function(e){U(null),Pt({req:"get currencies",data:{page:e,limit:Ue}}),Se(e)},getTransactions:function(e){z(null),Pt({req:"get transactions",data:{page:e,limit:ze,uid:ca}}),qe(e)},getShares:function(e){M(null),Pt({req:"get shares",data:{page:e,limit:Me,uid:ca}}),Ge(e)},parseLocaleNumber:function(e,a){var t=new Intl.NumberFormat(a,{style:"currency",currency:"USD"}).formatToParts(123456.789),n="",r="",l="";return t.forEach((function(e){switch(e.type){case"group":n=e.value;break;case"decimal":r=e.value;break;case"currency":l=e.value}})),parseFloat(e.replace(new RegExp("\\"+n,"g"),"").replace(new RegExp("\\"+r),".").replace(new RegExp("\\"+l,"g"),""))},getReviser:function(){return"STA"},getWorkplace:function(){return"LAPSTA"}};g.on("languageChanged",(function(e){ot(e)}));var qt=function(e){Ra(e)},Dt={onRedirect:qt,onSignUp:function(e){return Pt({req:"register user",data:e})},onTransferTypeChange:function(e){dt(e)},onTransferSuccess:function(){},onTransfer:function(e){Pt(e)},onBusinessRegistration:function(e){Pt(e)},onPurposeRegistration:function(e){Pt(e)},onLogOut:function(){!function(e,a){console.log("request: endSession",e,a),Ie.emit("end session",{char:e,session:a})}("bye",v),A(!1),U(null),z(null),M(null),Q("balance"),ne(null),oa(null),da(null),dt("#u2s"),ea(null),ga(null),ya(null),ka(null),wa(null),Fa(null),gt(""),Ya(null),tt(null),yt(null),kt(null)},onAlertClose:function(){jt()}};Object(n.useEffect)((function(){null!==At("reset")&&(window.localStorage.clear(),console.log("Local storage cleared"))}),[]),Object(n.useEffect)((function(){null!==v&&function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&console.log("request: startSession",e,a),Ie.emit("start session",{data:e,session:a,req:"start session"})}("hello",v,t)}),[v]),Object(n.useEffect)((function(){!1===S&&h(Object(u.a)())}),[S]),Object(n.useEffect)((function(){}),[w]),Object(n.useEffect)((function(){}),[ca]),Object(n.useEffect)((function(){null!==Va&&Ft(JSON.parse(Va))}),[Va]),Object(n.useEffect)((function(){null!==Za&&qt("/password")}),[Za]),Object(n.useEffect)((function(){null!==Wa&&function(e){var a=e.token,t=e.email;tt(t),Pt({req:"validate password reset token",data:{token:a,email:t}})}(JSON.parse(Wa))}),[Wa]);var Rt=function(e){return{wrapperClass:e?"auth-wrapper auth-wrapper-summary":"auth-wrapper",innerClass:e?"auth-inner auth-inner-summary":"auth-inner autoWidth"}}(w),xt=Rt.wrapperClass,Gt=Rt.innerClass,Lt={barrelGetters:It,barrelSetters:Nt,barrelFunctions:Tt,barrelEventHandlers:Dt},Bt=w?"App":"App bg";return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,null===Da?"":r.a.createElement(o.a,{push:!0,to:Da}),r.a.createElement("div",{className:Bt,style:{}},r.a.createElement("div",{className:xt,style:{}},r.a.createElement("div",{className:Gt},r.a.createElement("div",{style:{}},r.a.createElement(Ae,{data:Lt})),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:function(){return w?Ce(Lt):Pe(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/sign-in",component:function(){return Pe(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/sign-up",component:function(){return we(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/validate-email",component:function(){return function(e){var a=Object.assign({namespace:"ValidateEmail"},e),t=(a.barrelGetters.validateTokenEmail,a.barrelSetters.setValidateTokenEmail),l=a.barrelFunctions,s=l.getUrlParam,c=(l.sendEmailValidationRequest,Object(d.c)([a.namespace]).t),o=s("token"),i=s("email");Object(n.useEffect)((function(){null!==o&&null!==i&&t(JSON.stringify({token:o,email:i}))}),[]);return r.a.createElement(r.a.Fragment,null,null===o?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,c("A verification link has been sent to your email account.")),r.a.createElement("hr",null),r.a.createElement("p",null,c("Please click on the link that has just been sent to your email account"))):r.a.createElement("div",{className:"text-center"},r.a.createElement(L.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:!1})))}(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/password",component:function(){return function(e){var a=Object.assign({namespace:"ChangePassword",request:"change password",email:null},e),t=a.barrelGetters,l=t.passwordResetTokenValidated,s=t.passwordResetTokenEmail,o=a.barrelFunctions.sendRequest,i=Object(d.c)([!0===l?"SignUp":"ChangePassword"]).t,u=Object(n.useState)(!1),m=Object(c.a)(u,2),p=m[0],b=m[1],E=function(){b(!p)},g=j.b({password:j.c().required(i("No password provided")).min(8,i("Password is too short")).matches(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#_?&])[A-Za-z\d@$!%*#_?&]{8,}$/,i("Password is too weak"))});return!0===l?r.a.createElement(_.a,{component:function(t){var n=t.handleSubmit,l=t.handleChange,s=(t.handleBlur,t.values),c=t.touched,o=(t.isValid,t.validateForm,t.errors);return r.a.createElement(k.a,{noValidate:!0,onSubmit:n},r.a.createElement(k.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(k.a.Label,null,i("New password")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{type:p?"text":"password",placeholder:i("Enter password"),name:"password",value:s.password,onChange:l,isInvalid:!!o.password&&c.password}),r.a.createElement(I.a.Append,null,r.a.createElement(I.a.Text,{id:"inputGroupAppend",onClick:E,style:{cursor:"pointer"}},p?r.a.createElement(Ee.a,{fontSize:"small",style:{color:"var(--dark)"}}):r.a.createElement(ge.a,{fontSize:"small",style:{color:"var(--dark)"}}))),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.password))),r.a.createElement(B,Object.assign({},e,{caption:i("Submit"),request:a.request,namespace:a.namespace})))},validationSchema:g,onSubmit:function(e){return e.email=s,o({req:a.request,data:e})},initialValues:{password:""}}):r.a.createElement(r.a.Fragment,null,i("Awaiting validation"))}(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/profile",component:function(){return w?Ce(Lt):Pe(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/currency",component:function(){return w?Ce(Lt):Pe(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/sign-out",component:function(){return function(e){var a=Object.assign({},e),t=Object(d.c)("Logout").t,l=a.barrelGetters,s=l.error,o=l.language,i=a.barrelSetters.setLanguage,u=a.barrelFunctions.showMessage,m=a.barrelEventHandlers.onLogOut,p=Object(n.useState)(!0),b=Object(c.a)(p,1)[0];return Object(n.useEffect)((function(){if(!0===b){var e=s,a=o;m(),i(a),null!==e&&u(e,"error")}}),[b]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,t("See you soon")),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("p",{className:"text-center"},r.a.createElement("a",{href:"/"},t("Sign in"))))}(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/reset",component:function(){return function(e){var a=Object.assign({namespace:"ResetPassword",request:"reset password"},e),t=a.barrelGetters.language,l=a.barrelSetters.setValidateTokenPasswordReset,s=a.barrelFunctions,c=s.sendRequest,o=s.getUrlParam,i=Object(d.c)(a.namespace).t,u=o("token"),m=o("email");Object(n.useEffect)((function(){null!==u&&null!==m&&l(JSON.stringify({token:u,email:m}))}),[]);var p=j.b({email:j.c().email(i("Invalid email address")).required(i("Email is required"))});return null===u?r.a.createElement(_.a,{component:function(t){var n=t.handleSubmit,l=t.handleChange,s=(t.handleBlur,t.values),c=t.touched,o=(t.isValid,t.validateForm,t.errors);return r.a.createElement(k.a,{noValidate:!0,onSubmit:n},r.a.createElement("h3",null,i("Reset password")),r.a.createElement(k.a.Group,{controlId:"validationFormikEmail"},r.a.createElement(k.a.Label,null,i("Email address")),r.a.createElement(I.a,null,r.a.createElement(k.a.Control,{placeholder:i("Enter email"),name:"email",value:s.email,onChange:l,isInvalid:!!o.email&&c.email}),r.a.createElement(k.a.Control.Feedback,{type:"invalid"},o.email))),r.a.createElement(k.a.Group,{controlId:"validationFormikPassword"},r.a.createElement(B,Object.assign({},e,{caption:i("Submit"),request:a.request,namespace:a.namespace}))))},validationSchema:p,onSubmit:function(e){e.language=t,c({req:a.request,data:e})},initialValues:{email:""}}):r.a.createElement("div",{className:"text-center"},r.a.createElement(L.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",hidden:!1}))}(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/account-registration",component:function(){return Ce(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/business-registration",component:function(){return Ce(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/my-business",component:function(){return Ce(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/balance",component:function(){return Ce(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/transfer",component:function(){return Ce(Lt)}}),r.a.createElement(o.b,{exact:!0,path:"/summary",component:function(){return Ce(Lt)}})),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(Fe,Lt)))))))},qe=(t(234),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"lds-hourglass"})))});s.a.render(r.a.createElement(n.Suspense,{fallback:r.a.createElement(qe,null)},r.a.createElement(Te,null)),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.0160b22b.chunk.js.map